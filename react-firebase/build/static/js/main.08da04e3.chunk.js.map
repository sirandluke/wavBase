{"version":3,"sources":["Model/base.js","Images/wavBase_logo.png","View/HomePageComponents/FollowerCount.js","View/HomePageComponents/NameBioFollowers.js","Images/loader.gif","View/HomePageComponents/ProfileInfo.js","View/NavBarComponents/NavBar.js","Constants.js","Model/Date.js","Model/FirebaseHandler.js","View/HomePageComponents/RepositoryList.js","Images/sine_wave_1.png","View/RepositoryPageComponents/RepositoryInfo.js","Model/PlayButton.js","Images/folder.png","View/RepositoryPageComponents/SnapshotList.js","View/RepositoryPageComponents/UploadSnapshot.js","Images/folder@3x.png","View/RepositoryModals/SnapshotModal.js","View/RepositoryModals/UseSnapshotModal.js","View/routes/Repository.js","View/routes/PersonalHome.js","View/routes/Login.js","View/routes/Register.js","View/NewRepoComponents/CreateRepoAction.js","View/routes/NewRepo.js","Images/downArrow.png","View/routes/Profile.js","View/SnapshotComponents/SnapshotInfo.js","View/LoadingComponent/LoadingScreen.js","View/SnapshotComponents/FileList.js","Images/music_note_24px_outlined.png","View/SnapshotComponents/LoadingFiles.js","View/routes/Snapshot.js","View/routes/ResultsInterface.js","View/SearchResultsComponents/ParseId.js","View/SearchResultsComponents/UserDisplayComponent.js","View/SearchResultsComponents/UserSearchResult.js","App.js","reportWebVitals.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FollowerCount","style","fontSize","textAlign","borderBottom","this","props","followers","following","Component","NameBioFollowers","username","biography","ProfileInfo","uid","state","profile_picture_path","loading","auth","currentUser","firebaseRef","database","ref","storageRef","storage","once","snapshot","data","val","console","log","setState","profile_picture","then","child","getDownloadURL","url","document","getElementById","src","catch","error","className","id","alt","NavBar","history","on","undefined","img","img2","logo","type","placeholder","name","to","DropdownButton","title","variant","Dropdown","Item","as","onClick","push","signOut","empty","unknown_err","DateToString","today","Date","getMonth","getDate","getFullYear","TimeStampToString","getHours","getMinutes","getSeconds","RepositoryList","repos","user_id","orderByChild","equalTo","dataSnapshot","forEach","repoData","repo","key","message","curr_repo","pathname","repoElement","map","width","redirectToRepo","repo_id","paddingTop","overflowY","height","withRouter","RepositoryInfo","repo_name","bpm","tags","description","thumbnail_path","datetime","userRef","thumbnail","upload_date","SnapshotList","snapshots","fireBaseRef","snapData","curr_snapshot","snapshotElement","redirectToSnapshots","folder_icon","snap_id","UploadSnapshot","useState","folder","setFolder","showProgressBar","setProgressBar","progress","setProgress","handleUpload","e","a","preventDefault","snapshotDesc","target","elements","files","uploadStorage","uploadRealtime","value","filePaths","total","length","time_stamp","count","i","updateProgressBar","file","storageSnapRef","put","getMetadata","metaData","fullPath","Object","keys","toString","stage","Math","round","align","onSubmit","accept","directory","webkitdirectory","onChange","currentTarget","multiple","required","ProgressBar","animated","now","label","SnapshotModal","isShowing","hide","ReactDOM","createPortal","Fragment","aria-modal","aria-hidden","tabIndex","role","data-dismiss","aria-label","body","UseSnapshotModal","setIsShowing","toggle","Repository","location","useLocation","rel","href","PersonalHome","backgroundColor","sine_wave_1","bottom","zIndex","position","Login","isEmail","s","RegExp","test","window","onload","resetPW","idField","addEventListener","alert","sendPasswordResetEmail","event","email_or_username","password","email","signInWithEmailAndPassword","off","errorCode","code","errorMessage","K","Register","verify","createUserWithEmailAndPassword","onAuthStateChanged","user","set","first_name","last_name","FirebaseHandler","CreateRepoAction","createRepo","isPrivate","tags_id","repo_likes","comments","insertRepository","handleCheck","min","max","cols","rows","NewRepo","class","Profile","user_email","show","setShow","Button","Modal","onHide","Header","closeButton","Title","Body","method","extension","split","pop","picture_path","picture_storage","picture","update","Footer","new_username","new_bio","SnapshotInfo","snapshot_desc","LoadingScreen","data-text","loading_icon","FileList","audio_objs","proj_objs","objs","obj","zip","JSZip","zipFilename","snapshot_name","filename","JSZipUtils","getBinaryContent","err","binary","generateAsync","content","saveAs","audioFileElement","playing","controls","volume","progressInterval","pip","projectFileElement","download","handleDownloadAll","LoadingFiles","isLoading","file_paths","parseFileString","audio_paths","proj_paths","getObjs","setTimeout","snapshot_paths","file_path","indexOf","path","getName","slice","Snapshot","ResultsInterface","ParseIds","ids","AddId","IncludeId","DeleteId","id_list","result","entry","includes","getIdCount","UserDisplayComponent","current_uid","setUser","updateFollow","config","headers","JSON","stringify","fetch","useEffect","response","json","getUserRef","user_snapshot","image_url","localStorage","getItem","setItem","tmp_user","innerText","UserSearchResult","search_input","users","setUsers","users_snapshot","users_list","toLowerCase","App","Auth","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"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","file":"static/js/main.08da04e3.chunk.js","sourcesContent":["/*\n    base.js\n */\nimport firebase from \"firebase\";\n\n// noinspection SpellCheckingInspection\nconst db = firebase.initializeApp({\n    apiKey: \"AIzaSyCAsj0sKvrY1hqtXZYS_GbPyehKPXOzZ6Y\",\n    authDomain: \"wavbasedb-9a679.firebaseapp.com\",\n    databaseURL: \"https://wavbasedb-9a679.firebaseio.com/\",\n    projectId: \"wavbasedb-9a679\",\n    storageBucket: \"wavbasedb-9a679.appspot.com\",  // Path to Firebase Storage.\n    messagingSenderId: \"707190956098\",\n    appId: \"1:707190956098:web:88fa31bd96d13289c64ddb\",\n    measurementId: \"G-C56V3L638G\"\n});\n\nexport default db;","export default __webpack_public_path__ + \"static/media/wavBase_logo.b40fe7ab.png\";","import React,{Component} from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nexport class FollowerCount extends Component{\n    render(){\n\n        return(\n            <div>\n                <p style={{fontSize:'24px', textAlign:'center', borderBottom:\"5px black\"}}>{this.props.followers} followers Â· {this.props.following} following</p>\n            </div>\n        )\n    }\n}","import React,{Component} from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport {FollowerCount} from \"./FollowerCount\";\n\nexport class NameBioFollowers extends Component{\n    render(){\n        // if (this.props.followers == '')\n        //     this.props.followers = 0\n        // if (this.props.following == '')\n        //     this.props.following = 0\n        const checkFollower = () => {\n            if (this.props.followers == '')\n                return 0;\n            return this.props.followers;\n        }\n\n        const checkFollowing = () => {\n            if (this.props.followers == '')\n                return 0;\n            return this.props.following;\n        }\n\n        return(\n            <div>\n                <h3 style={{textAlign:'center', fontSize:'24px'}}>{this.props.username}</h3>\n                <FollowerCount\n                    followers={checkFollower()}\n                    following={checkFollowing()}\n                />\n                <p>{this.props.biography}</p>\n            </div>\n        )\n    }\n}","export default __webpack_public_path__ + \"static/media/loader.6dd4bf27.gif\";","import React, {Component} from \"react\";\nimport {FollowerCount} from \"./FollowerCount\"\nimport {NameBioFollowers} from \"./NameBioFollowers\";\nimport db from \"../../Model/base\";\nimport loading from \"../../Images/loader.gif\"\n\nimport \"./ProfileInfo.css\"\n\nexport class ProfileInfo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: '',\n            biography: '',\n            followers: '',\n            following: '',\n            profile_picture_path: loading\n        };\n\n        let uid;\n        if (this.props.uid === null) {\n            uid = db.auth().currentUser.uid;\n        } else {\n            uid = this.props.uid;\n        }\n\n        this.firebaseRef = db.database().ref('users/' + uid);\n        this.storageRef = db.storage().ref();\n    };\n\n    componentDidMount() {\n        // TODO: TRANSFER TO MODEL\n        this.firebaseRef.once('value',(snapshot) => {\n            const data = snapshot.val();\n            console.log(data);\n            this.setState({\n                username: data.username,\n                biography: data.biography,\n                followers: data.followers,\n                following: data.following,\n                profile_picture_path: data.profile_picture\n            });\n        }).then(() => {\n            console.log(this.state.profile_picture_path);\n            this.storageRef.child(this.state.profile_picture_path).getDownloadURL().then( function (url) {\n                console.log(url);\n                let pfp = document.getElementById(\"profile_picture\");\n                pfp.src = url;\n            }).catch( (error) => {\n                console.log(error)\n            });\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <img className=\"user_profile_picture\" id=\"profile_picture\" src={loading} alt=\"Profile Picture\"/>\n                <NameBioFollowers\n                    username={this.state.username}\n                    biography={this.state.biography}\n                    followers={this.state.followers}\n                    following={this.state.following}\n                />\n            </div>\n        );\n    }\n}","import React, {Component} from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport db from \"../../Model/base\";\nimport \"../routes/PersonalHome.css\";\nimport {useHistory} from 'react-router-dom';\nimport logo from \"../../Images/wavBase_logo.png\";\nimport {ProfileInfo} from \"../HomePageComponents/ProfileInfo\";\nimport {Link} from \"react-router-dom\";\n\n\nfunction NavBar({history}) {\n\n    let user = db.auth().currentUser;\n    //let name, email, photoUrl, uid, emailVerified;\n    let name = \"User\";\n    let username, profile_picture_path;\n    if (user != null) {\n        //name = user.email;\n\n        let uid = db.auth().currentUser.uid;\n        let firebaseRef = db.database().ref('users/' + uid);\n        firebaseRef.on('value', (snapshot) =>{\n            username = snapshot.val().username;\n            profile_picture_path = snapshot.val().profile_picture;\n            name = username;\n        })\n    }\n\n    let storage = db.storage();\n    let storageRef = storage.ref();\n    if (profile_picture_path !== undefined){\n        storageRef.child(profile_picture_path).getDownloadURL().then(function (url) {\n            let img = document.getElementById('profile_picture');\n            if (img != null)\n                img.src = url;\n            let img2 = document.getElementById('profile_picture2');\n            if (img2 != null)\n                img2.src = url;\n        })\n    }\n\n    const redirectRepo = () => {\n        history.push(\"/\");\n    }\n\n    const redirectProfile = () => {\n        history.push(\"/profile\");\n    }\n    return (\n        <div className=\"nav_bar\">\n            <img src={logo} className=\"nav_bar_logo\" alt=\"wavBase Logo\" />\n\n            <form className=\"search_bar\">\n                <input className=\"search_input\" type=\"text\" placeholder=\" Search\"\n                       name=\"search\"/>\n                <button type=\"submit\" className=\"search_btn\">\n                    <i className=\"fa fa-search\">\n                        <Link to={'/search_result'}> </Link>\n                    </i>\n                </button>\n                {/*TODO: not sure why this button takes me to sign in page everytime*/}\n            </form>\n            <img id=\"profile_picture2\" className=\"top_icon\"/>\n\n            <DropdownButton\n                id=\"dropdown-item-button\"\n                title={ username }\n                variant=\"success\">\n                <Dropdown.Item as=\"button\" onClick={ redirectProfile }>My Profile</Dropdown.Item>\n                <br />\n                <Dropdown.Item as=\"button\" onClick={ redirectRepo }>My Repositories</Dropdown.Item>\n                <br />\n                <Dropdown.Item as=\"button\" onClick={ () => db.auth().signOut() }>Sign Out</Dropdown.Item>\n                <br />\n            </DropdownButton>\n        </div>\n    )\n};\n\nexport default NavBar;","/*\n    Constants.js\n    All the constants used for wavBase.\n    Please use these instead of typing in name to avoid typos\n    and so that we can easily change messages on the fly.\n\n    When writing a new file, please include:\n    `import * as K from \"<path to Constants.js>\"\n */\n\n// Name of application\n\n/* APP NAME & LOGOS */\nexport const app_name = \"wavBase\";\n\nexport const logo_path = \"Images/wavBase_logo.png\"\n\n/* RULES */\nexport const empty = \"\" // Specifies omitted fields in db.\n\n\n/* FIREBASE TABLE NAMES */\nexport const user_tab = \"users\";\nexport const repo_tab = \"repositories\";\nexport const snapshot_tab = \"snapshots\"\nexport const proj_folder_path = \"project_folder\";\nexport const like_tab= \"like\";\nexport const comment_tab = \"comment\";\nexport const tags_tab = \"tags\";\n\n\n/* FIREBASE REAL TIME DB PATHS */\n\n/* FIREBASE STORAGE PATHS */\nexport const default_user_png = \"defaults/test_user.png\"\nexport const default_repo_png = \"defaults/default_repo_thumbnail.png\"\n\n/* ERROR MESSAGES */\nexport const unknown_err = \"Uh Oh! Something went wrong. Please try again.\";\n\n/* REPOSITORY */\nexport const create_repo = \"Create a new repository +\";\nexport const edit_repo = \"Edit repoistory\";\n\n/* SNAPSHOT */\nexport const create_snapshot = \"Create a new snapshot\";","/**\n * Get the current date as a string\n * @returns {string} The current date formatted as `MM-DD-YYYY`.\n */\nexport let DateToString = () => {\n    const today = new Date();\n    const month = today.getMonth() + 1;\n    const day = today.getDate() <= 10 ? '0' + today.getDate() : today.getDate();\n    const year = today.getFullYear();\n    return month + '-' + day + '-' + year;\n}\n\nexport let TimeStampToString = () => {\n    const today = new Date();\n    const month = today.getMonth() + 1;\n    const day = today.getDate() <= 10 ? '0' + today.getDate() : today.getDate();\n    const year = today.getFullYear();\n    const hours = today.getHours();\n    const minutes = today.getMinutes();\n    const sec = today.getSeconds();\n    return month + '-' + day + '-' + year + '-' + hours + '-' + minutes + '-' + sec;\n}\n\nexport let RankByDate = (readArr) => {\n    let ranked = [];\n    readArr.forEach(i => {\n    });\n}","/*\n    FirebaseHandler.js\n */\nimport db from \"./base.js\";\nimport * as K from \"../Constants.js\";\nimport {DateToString} from \"./Date\";\n\n/*** wavBase.users queries ***/\n\nconst ref = db.database().ref();\n\n/**\n * Creates a data entry for new user\n * @param {string} username \n * @param {string} password \n * @param {string} email \n * @param {string} first_name \n * @param {string} last_name \n */\nexport function createUser(username, password, email) {\n    // Creates user id with email and password values\n    db\n    .auth()\n    .createUserWithEmailAndPassword(\n        email,\n        password\n    );\n\n    // Sets child values for user id\n    db.auth().onAuthStateChanged(function (user) {\n        if (user) {\n            db.database().ref('users/' + user.uid).set({\n                username: username,\n                email: email,\n                first_name: K.empty,\n                last_name: K.empty,\n                biography: K.empty,\n                profile_picture: K.default_user_png,\n                followers: 0,\n                following: 0,\n            });\n        }\n    });\n}\n\n/**\n * Queries for user id based on email passed in\n * @param {string} email \n * @param {function} callback\n */\nexport function getUserByEmail(email, callback) {\n    try {\n        let uid = \"\";\n\n        // Sort children by email and query matching email; store in snapshot\n        ref.child('users').orderByChild('email').equalTo(email).once(\"value\", (snapshot) => {\n\n            // Data entry in snapshot should contain table for this user\n            snapshot.forEach((entry) => {\n                uid = entry.key;\n            });\n\n            // Callback once finish processing snapshot data\n            callback(uid);\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n/**\n * Updates value for user based on parameters\n * @param {string} updatePath e.g. \"users/uid/biography\" to update the biography field of a user\n * @param {*} updateVal \n * @param {function} callback \n */\nexport function updateUser(updatePath, updateVal, callback) { \n    try {\n        // Specifies where to update and what value to use\n        var updates = {};\n        updates[updatePath] = updateVal;\n\n        // Writes to the nodes specified\n        ref.update(updates);\n\n        // Passes updated value through callback\n        ref.child(updatePath).once(\"value\", (snapshot) => {\n            callback(snapshot.val());\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n/**\n * Deletes user by user id\n * @param {string} uid \n */\nexport function deleteUser(uid) { \n    try {\n        // Removes UID from Firebase\n        ref.child(\"users/\" + uid).remove().then(() => {\n            console.log(\"Deleted \" + uid);\n        });\n\n        // Deletes all repositories tied to user\n        function callback(listOfRepo) {\n            for (let i = 0; i < listOfRepo.length; i++) {\n                deleteRepository(listOfRepo[i]);\n            }\n        }\n\n        // Finds list of repositories tied to user\n        findRepositories(uid,callback);\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n/*** wavBase.repositories queries ***/\n\n/**\n * Insert a new repository into the wavBase/repositories.\n * @param {string} tags_id\n * @param {string} repo_name\n * @param {string} bpm\n * @param {string} key\n * @param {string} description\n * @return {int}\n */\nexport function insertRepository(tags_id, repo_name, bpm,\n                                 key, description) {\n    console.log(\"Creating a new Repository\");\n    try {\n        let uid = db.auth().currentUser.uid\n        let firebaseRef = db.database().ref(\"repositories/\")\n        firebaseRef.push({\n            user_id: uid,\n            name: repo_name,\n            bpm: bpm,\n            key: key,\n            description: description,\n            snapshots: K.empty,\n            repo_likes: 0,\n            comments: K.empty,\n            thumbnail: K.default_repo_png,  // set default repository image.\n            upload_date: DateToString()\n        })\n        firebaseRef.off();\n\n        return 1;  // Insert Successful\n    }\n    catch (error){\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.log(errorMessage)\n        alert(K.unknown_err);\n        return 0; // Insert Fail\n    }\n}\n\n/**\n * Finds all repositories tied to a user id\n * @param {string} uid \n * @param {function} callback \n */\nexport function findRepositories(uid, callback) {\n    try {\n        // Sort children by email and query matching email; store in snapshot\n        ref.child('repositories').orderByChild('user_id').equalTo(uid).once(\"value\", (snapshot) => {\n            let repos = [];\n\n            // Data entry in snapshot should contain table for this user\n            snapshot.forEach((entry) => {\n                repos = repos.concat([entry.key]);\n            });\n\n            // Callback once finish processing snapshot data\n            callback(repos);\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n// Update a repository's fields in the database.\nexport function updateRepository(updatePath, updateVal, callback) { \n    try {\n        // Specifies where to update and what value to use\n        var updates = {};\n        updates[updatePath] = updateVal;\n\n        // Writes to the nodes specified\n        ref.update(updates);\n\n        // Passes updated value through callback\n        ref.child(updatePath).once(\"value\", (snapshot) => {\n            callback(snapshot.val());\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n// Delete a Repository.\nexport function deleteRepository(repo_id) { \n    try {\n        ref.child(\"repositories/\" + repo_id).remove().then(() => {\n            console.log(\"Deleted \" + repo_id);\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n/*** wavBase.snapshots queries ***/\n\n// Insert a new snapshot into the database.\nfunction insertSnapshot(id, repo_id, project_folder_id, description) { }\n\n// Update a snapshot's fields in the database.\nfunction updateSnapshot(id) { }\n\n// Delete a snapshot from the database.\nfunction deleteSnapshot(id) { }\n\n/*** wavBase.project_folder queries ***/\n// Insert a new projct folder into the database.\nfunction insertProjFolder(id, project_file, snippet, midi_files, sample_files){ }\n\nfunction deleteProjFolder(id) { }\n\n/*** wavBase.comments queries ***/\n\n/*** wavBase.tags queries ***/","import React, {Component} from \"react\";\n\nimport db from \"../../Model/base\";\n\nimport {Link, withRouter} from \"react-router-dom\";\n\nimport \"./RepositoryList.css\";\n\nclass RepositoryList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            repos: []\n        }\n\n        this.user_id = this.props.uid;\n        console.log(this.user_id);\n\n        this.firebaseRef = db.database().ref('repositories');\n    }\n\n    componentDidMount() {\n        // TODO: NEED TO MOVE TO BACK END\n\n        try {\n            this.firebaseRef\n                .orderByChild('user_id')\n                .equalTo(this.user_id)\n                .once('value', (dataSnapshot) => {\n                    let repos = [];\n                    dataSnapshot.forEach(repoData => {\n                        let repo = repoData.val();\n                        repo['repo_id'] = repoData.key;\n                        repos.push(repo);\n                    });\n                    this.setState({repos: repos});\n                }).then(() => {\n                console.log(this.state.repos)\n            });\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    redirectToRepo(curr_repo) {\n        this.props.history.push({\n            pathname: \"/repository\",\n            state: {  // Pass as props for Repository page.\n                repo: curr_repo\n            }\n        });\n    }\n\n    render() {\n\n        const repoElement = this.state.repos.map(repos =>\n            <tr key={ repos.repo_id }>\n                <td style={ {width: '200px', textAlign: 'left'} }>\n                    <button className=\"repo_button\" name=\"repo_links\"\n                            onClick={ () => this.redirectToRepo(repos) }>\n                        { repos.name }\n                    </button>\n                </td>\n            </tr>\n        );\n\n        return (\n            <div style={{paddingTop: '20px', overflowY:'scroll', height:\"65%\"}}>\n                {/* <table style={{border: '1px solid blue'}}> */}\n                <table>\n                    <thead>\n                    {/* <tr>\n                        <th style={{textAlign:\"left\"}}>Your Repositories</th>\n                    </tr> */}\n                    </thead>\n                    <tbody>\n                        { repoElement }\n                    </tbody>\n                </table>\n            </div>\n\n        );\n    }\n}\nexport default withRouter(RepositoryList);","export default __webpack_public_path__ + \"static/media/sine_wave_1.2556cb16.png\";","import React, {Component} from \"react\";\nimport db from \"../../Model/base\";\nimport { withRouter } from \"react-router-dom\";\nimport {findRepositories} from \"../../Model/FirebaseHandler\";\nimport loading from \"../../Images/loader.gif\";\nimport './RepositoryInfo.css'\n\nexport class RepositoryInfo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: '',\n            repo_name: '',\n            bpm: '',\n            key: '',\n            tags: '',\n            description: '',\n            thumbnail_path: '',\n            datetime: '',\n        }\n\n        this.userRef = db.database().ref(\"users/\" + this.props.repo.user_id);\n        this.storageRef = db.storage().ref();\n    }\n\n    componentDidMount() {\n        this.userRef\n            .once('value', data => {\n                let username = data.val().username;\n                this.setState({\n                    username: username,\n                    repo_name: this.props.repo.name,\n                    bpm: this.props.repo.bpm,\n                    key: this.props.repo.key,\n                    tags: this.props.repo.tags,\n                    description: this.props.repo.description,\n                    thumbnail_path: this.props.repo.thumbnail,\n                    datetime: this.props.repo.upload_date,\n                });\n            }).then(() => {\n\n                this.storageRef.child(this.state.thumbnail_path).getDownloadURL().then(function (url) {\n                    console.log(url);\n                    let pfp = document.getElementById(\"repo_thumbnail\");\n                    pfp.src = url;\n            }).catch((error) => {\n                console.log(error);\n            });\n        });\n    }\n\n    render() {\n\n        return(\n            <div>\n                <div className=\"left_element\">\n                    <img className=\"repo_thumbnail\"\n                         id=\"repo_thumbnail\"\n                         src={loading}\n                         alt=\"Repository Thumbnail\"\n                    />\n                </div>\n                <div className=\"repo_title\">\n                    <h2>{ this.state.username }/{ this.state.repo_name }</h2>\n                    <h3>BPM:{ this.state.bpm } | Key: { this.state.key }</h3>\n                </div>\n\n                <div className=\"repo_description\">\n                    <p>Repo Description</p>\n                    <p>{ this.state.description }</p>\n                </div>\n            </div>\n        );\n    }\n}","import '../App.css';\nimport React, { Component, useState } from \"react\";\nimport db from \"./base\";\nimport ReactPlayer from \"react-player\";\nimport * as K from \"../Constants\";\n/* Do not delete\nconst PlayButton = (props) => {\n    const [audio, loadAudio] = useState(\"\");\n    const storage= db.storage();\n    const storageRef = storage.ref();\n    const audioLoader = info => {\n        storageRef.child('test_audio/test_piano.mp3').getDownloadURL().then( function (url) {\n\n            // Download audio file directly\n            let xhr = new XMLHttpRequest();\n            xhr.responseType = 'blob';\n            xhr.onload = function (event) {\n                let blob = xhr.response;\n                let objURL = URL.createObjectURL(blob)\n            }\n            xhr.open('GET', url);\n            xhr.send();\n            loadAudio(url)\n            console.log(url)\n        }).catch((error) => {\n            //console.log(error);\n            alert(K.unknown_err);\n        })\n      }\n        return (\n            <div>\n                <ReactPlayer\n                    url={loadAudio}\n                    width=\"400px\"\n                    height=\"50px\"\n                    playing={false}\n                    controls={true}\n                    volume={1}\n                    progressInterval={5000}\n                    pip={true}\n                />\n            </div>\n        );\n}\n\nexport default PlayButton;\n*/\n\nexport class PlayButton extends Component {\n    constructor(props) {\n        super(props);\n\n        /* const [audio, loadAudio] = useState(\"\");\n        const storage= db.storage();\n        const storageRef = storage.ref(); */\n    }\n\n    render() {\n        return (\n            <div>\n                <ReactPlayer\n                    url={this.props.audio}\n                    width=\"400px\"\n                    height=\"50px\"\n                    playing={false}\n                    controls={true}\n                    volume={1}\n                    progressInterval={5000}\n                    pip={true}\n                />\n            </div>\n        );\n    }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADGSURBVHgB7ZTBDYMwDEXtwACMwAiV2KeIDcoGdINuQOkEDFLUjsAILIDdkAaJAxRHUE55UuIcnNjfig3gWQGHLak4BaCbPkYLfh2iuj/PmIMj6muo+PH4QMRMl+TRl+CIVdDzYJs0wDmnU8lxoOi1ksSUVudeNClWSuL9zrAF4ozNRRGxLTmEwgvQZGGtTS3xtRUxakUKthDORN6VYxUs/SJXppX4uwIfwAfYztgHnV7Rnp08DkajgIlzh0kpebwLiK/gkfABxQs9UDKyiOoAAAAASUVORK5CYII=\"","import React, {Component} from \"react\";\n\nimport db from \"../../Model/base\";\nimport { withRouter } from \"react-router-dom\";\n\nimport folder_icon from \"../../Images/folder.png\";\nimport \"./SnapshotList.css\"\n\nclass SnapshotList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            snapshots: []\n        }\n\n        this.fireBaseRef = db.database().ref('snapshots');\n    }\n\n    componentDidMount() {\n        try {\n            console.log(this.props.repo_id);\n            db.database().ref('snapshots')\n                .orderByChild('repo_id')\n                .equalTo(this.props.repo_id)\n                .on('value', (dataSnapshot) => {\n                    let snapshots = [];\n                    console.log('here')\n                    dataSnapshot.forEach(snapData => {\n                        let snapshot = snapData.val();\n                        snapshot['snap_id'] = snapData.key;\n                        snapshots.push(snapshot);\n                    });\n                    this.setState({snapshots: snapshots});\n                }).then(() => {\n                console.log(this.state.snapshots)\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    redirectToSnapshots(curr_snapshot) { // Passes the snapshot object over to be viewed.\n        this.props.history.push({\n            pathname: \"/snapshot\",\n            state: {  // Pass as props for Repository page.\n                snapshot: curr_snapshot,\n                repo_name: this.props.repo_name,\n                username: \"User\"\n            }\n        });\n    }\n\n    render() {\n\n        // TODO: Map snapshot elements to SnapshotObject\n        // Element displays folder icon + desc + datetime\n\n        const snapshotElement = this.state.snapshots.map(snapshot =>\n            <tr key={ snapshot.snap_id }>\n                <td style={ {width: '500px', textAlign: 'left'} }>\n                    <button className=\"snapshot_button\" name=\"snapshot_links\"\n                            onClick={ () => this.redirectToSnapshots(snapshot) }>\n                       <img className=\"snaps_ico_1\" src={ folder_icon } alt=\"snapshot_icon\"/>\n                        { snapshot.description }\n                        { snapshot.datetime }\n                    </button>\n                </td>\n            </tr>\n        );\n\n        return(\n            <div>\n                <table className=\"snapshot_table\">\n                    <tbody className=\"snapshot_body\">\n                        {snapshotElement}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(SnapshotList);","import React, {useState} from \"react\";\nimport db from \"../../Model/base\";\nimport folder_icon from \"../../Images/folder@3x.png\";\nimport {DateToString, TimeStampToString} from \"../../Model/Date\";\n\n\nimport \"../../App.css\";\nimport \"./UploadSnapshot.css\"\n\nimport ProgressBar from 'react-bootstrap/ProgressBar';\n\n// todo: .DS_Store is uploaded.\n// WE WILL USE THIS FUNCTION FOR UPLOAD SNAPSHOT\n\nconst UploadSnapshot = (props) => {\n\n    const delay = ms => new Promise(res => setTimeout(res, ms));\n\n    const [folder, setFolder] = useState(null);\n\n    const [showProgressBar, setProgressBar] = useState(false);\n\n    const [progress, setProgress] = useState(0);\n\n\n    console.log(\"repo id is:\" + props.repo_id);\n\n    const handleUpload = async (e) => {\n        e.preventDefault();\n        setProgressBar(true);\n        const {snapshotDesc} = e.target.elements;\n\n        let files = null;\n        files = await uploadStorage();\n        await uploadRealtime(files, snapshotDesc.value);\n    }\n\n    async function uploadStorage() {\n        // Push all audio files to firestore.\n        let filePaths = [];\n        const files = folder;\n        const total = files.length * 3;\n        const time_stamp = TimeStampToString();\n        let count = 1;\n        for (const i of Object.keys(files)) {  // For each file, push to firestore and wait for this loop to finish.\n            updateProgressBar(total, count);\n            count++;\n            const file = files[i];\n            let storageSnapRef = db.storage()\n                .ref('/snapshots/' + props.repo_id + '/' + time_stamp + '/' + file.name)\n            await storageSnapRef.put(file).then(async () => {\n                updateProgressBar(total, count);\n                count++;\n                const storageRef = db.storage().ref('/snapshots/' + props.repo_id + '/' + time_stamp);\n                await storageRef.child(file.name).getMetadata().then( async metaData => {\n                    updateProgressBar(total, count);\n                    count++;\n                    await filePaths.push(metaData.fullPath)  // Add URLs to files array.\n                    console.log(\"Pushed: \" + metaData.fullPath);\n                });\n            });\n        }\n\n        console.log(filePaths.toString());\n        return filePaths;\n    }\n\n    function updateProgressBar(total, stage) {\n        setProgress(Math.round(((stage + progress) / total) * 100))\n    }\n\n    function uploadRealtime(files, snapshotDesc) {\n        let datetime = DateToString();\n        let snapShotRef = db.database().ref(\"snapshots/\");\n        snapShotRef.push({\n            description: snapshotDesc,\n            files: files.toString(),\n            repo_id: props.repo_id,\n            upload_date: datetime\n        });\n    }\n\n    const handleChange = e => {\n        if (e.currentTarget.files) {\n            setFolder(e.currentTarget.files);\n        }\n    };\n\n    return (\n        <div>\n            <div className=\"upload_title_1\">\n                <img className=\"snaps_ico\" src={ folder_icon } alt=\"snaps_ico\" align=\"left\" width=\"30\" height=\"30\"/>\n                <h2>Take a Snapshot!</h2>\n            </div>\n            <p className=\"upload_description\">Choose a project folder that you want to upload</p>\n            <p className=\"upload_description\">You can include anything from Ableton files, FL Studio files, midi's, wav's, mp3's, and more</p>\n            <form onSubmit={ handleUpload }>\n                <label>\n                    <input accept=\".wav, .mp3, .als, .flp, .band, .logicx\"\n                           directory=\"\" webkitdirectory=\"\" type=\"file\" onChange={ handleChange } multiple/>\n                </label>\n                <br/>\n                <p>Give your snapshot a name</p>\n                <label>\n                    <input\n                        name=\"snapshotDesc\"\n                        required=\"required\"\n                        placeholder=\"Snapshot description\"/>\n                </label>\n                <br/>\n                { showProgressBar\n                    ? <ProgressBar animated now={ progress } label={ `${ progress }% complete` }/>\n                    : <button className=\"upload_button_1\" type=\"submit\">Upload</button>\n                }\n            </form>\n        </div>\n    );\n}\n\nexport default UploadSnapshot;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHuSURBVHgB7dvBTcMwFMbx95yAxK0jZIQKxBkyAgtAM0G7CTBBygSICdoOUMgIHYEbUmls7IpKTUj1cgixod9PQoKol/7j2AqyiQAAAAAAGnDTxWFuBiqmMRtzTe6nQ4ZoxcyFKfXLaxZPKXA/Atk4SaT0zP6a0O9blXqdFtnZigKl6hd6jOPYm3H6dpmvhxSoSqDzfDOi/uLsDLSKZsP8I6EAVQKx4jH5MbAjaebmPgpM/RHzOdSTKDLPFJjKJH3xVJqmDy3vIqYObFdH+hyxiu4pGHZF1frx0Iraa6AdN9fZxzmnsDSuqIo82N4te9coLEnTPOglkLPMTibEPKewJEptJvsXvAVyypJvQovEHF3t/+01UJHx+/JWpUabzL6DFBSC2qtVTAH4XkGm1LNDi9I+ryPoL0AgAQIJEEiAQIJWq1ib2f6/wggSIJAAgQQIJEAgQatVrOt/mIUC72IdQCABAgkQSIBAAgQSIJAAgQQIJEAgAQIJEEiAQAIEEiCQAIEECCRAIAECCRBIgEACBBIgkAC7OwTVERTevmUPuLLbthLIlOWCjpypnQCoBNIUP7gjk3Sk3HevH2qpBHIbu7VW6TFGct9Z63Vav35wU8L2RA7z2H4i2OOSnTBmzsYsNvbpcQOEAAAAAADa+AItMpQco4GR3wAAAABJRU5ErkJggg==\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport UploadSnapshot from \"../RepositoryPageComponents/UploadSnapshot\";\nimport './SnapshotModal.css'\n\n\nconst SnapshotModal = ({ isShowing, hide, repo_id}) => isShowing ? ReactDOM.createPortal(\n\n    <React.Fragment>\n        <div className=\"modal-overlay\"/>\n        <div className=\"modal-wrapper\" aria-modal aria-hidden tabIndex={-1} role=\"dialog\">\n            <div className=\"modal\">\n                <div className=\"modal-header\">\n                    <button type=\"button\" className=\"modal-close-button\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={hide}>\n                        <span aria-hidden=\"true\">close</span>\n                    </button>\n                </div>\n                <UploadSnapshot repo_id={repo_id} />\n            </div>\n        </div>\n    </React.Fragment>, document.body\n) : null;\n\nexport default SnapshotModal;","import { useState } from 'react';\n\nconst UseSnapshotModal = () => {\n    const [isShowing, setIsShowing] = useState(false);\n\n    function toggle() {\n        setIsShowing(!isShowing);\n    }\n\n    return {\n        isShowing,\n        toggle,\n    }\n};\n\nexport default UseSnapshotModal;","import React, {Component} from \"react\";\nimport \"../../App.css\";\nimport * as K from '../../Constants';\nimport * as FirebaseHandler from  \"../../Model/FirebaseHandler.js\";\nimport {PlayButton} from \"../../Model/PlayButton\";\nimport {RepositoryInfo} from \"../RepositoryPageComponents/RepositoryInfo\";\nimport NavBar from '../NavBarComponents/NavBar.js';\nimport SnapshotList from \"../RepositoryPageComponents/SnapshotList\";\nimport UploadSnapshot from \"../RepositoryPageComponents/UploadSnapshot\";\nimport './Repository.css';\nimport SnapshotModal from \"../RepositoryModals/SnapshotModal\";\nimport UseSnapshotModal from \"../RepositoryModals/UseSnapshotModal\";\n\nimport {repo_tab} from \"../../Constants\";\nimport {useLocation} from 'react-router';\n\n/**\n *\n * @param history -> pass in repo object as prop.\n * @returns {JSX.Element}\n * @constructor\n */\nconst Repository = ({history}) => {\n    const location = useLocation();\n    const {isShowing, toggle} = UseSnapshotModal();\n\n    console.log(location.state.repo);\n\n\n    const redirectHome = () => {\n        history.push(\"/\");\n    }\n\n    return (\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <NavBar/>\n            <RepositoryInfo repo={ location.state.repo }/>\n            <div className=\"line\"/>\n            <div className=\"info_upload_row\">\n                <h3>Snapshots</h3>\n                <button className=\"upload_pop_up\" onClick={toggle}>Take a Snapshot</button>\n            </div>\n            \n            <SnapshotModal isShowing={isShowing} hide={toggle} repo_id={location.state.repo.repo_id}/>\n\n\n            <SnapshotList\n                repo_id={ location.state.repo.repo_id }\n                repo_name={location.state.repo.name}\n            />\n\n            <button className=\"redirect_home\" onClick={ redirectHome }>Go Back to Home!</button>\n        </div>\n    );\n};\n\nexport default Repository;","import React from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport db from \"../../Model/base\";\nimport \"./PersonalHome.css\";\nimport logo from \"../../Images/wavBase_logo.png\";\nimport './PersonalHome.css';\nimport '../../App.css'\nimport '../NavBarComponents/NavBar.css'\nimport NavBar from '../NavBarComponents/NavBar.js';\n//import Home from \"./Home\";\nimport * as FirebaseHandler from  \"../../Model/FirebaseHandler.js\";\n\nimport {ProfileInfo} from \"../HomePageComponents/ProfileInfo\";\nimport RepositoryList from \"../HomePageComponents/RepositoryList\";\nimport sine_wave_1 from \"../../Images/sine_wave_1.png\"\n\n\n\nimport Repository from \"./Repository\";\n\n// TODO: render searchbar, likes, (add more)\nconst PersonalHome = ({history}, props) => {\n\n    /*\n    let user = db.auth().currentUser;\n    //let name, email, photoUrl, uid, emailVerified;\n    let name = \"User\";\n    if (user != null) {\n        //name = user.email;\n        let username;\n        let uid = db.auth().currentUser.uid;\n        let firebaseRef = db.database().ref('users/' + uid);\n        firebaseRef.on('value', (snapshot) =>{\n            username = snapshot.val().username;\n            name = username;\n        })\n    }\n*/\n    let uid;\n    let username;\n    if (props.uid == null) {\n        uid = db.auth().currentUser.uid;\n    } else {\n        uid = props.uid;\n    }\n\n    let firebaseRef = db.database().ref('users/' + uid);\n    firebaseRef.on('value', (snapshot) =>{\n        username = snapshot.val().username;\n    })\n\n    // let uid = db.auth().currentUser.uid;\n    // let userRef = db.database().ref('users/' + uid);\n    // let username, profile_picture_path, user_email;\n    // userRef.on('value', (snapshot) =>{\n    //     username = snapshot.val().username;\n    //     profile_picture_path = snapshot.val().profile_picture;\n    //     user_email = snapshot.val().email;\n    // })\n    //\n    // let storage = db.storage();\n    // let storageRef = storage.ref();\n    // storageRef.child(profile_picture_path).getDownloadURL().then(function (url) {\n    //     let img2 = document.getElementById('profile_picture2');\n    //     img2.src = url;\n    // })\n\n    const redirectCreateRepo = () => {\n        history.push(\"/newrepo\");\n    }\n\n    // considering home page is repo page, do nothing when user clicks \"My Repo\"\n    const redirectRepo = () => {\n        // history.push(\"/repository\");\n        alert('You are already on Repository Page!')\n    }\n\n    const redirectProfile = () => {\n        history.push(\"/profile\");\n    }\n\n    return (\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <NavBar />\n\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col_1\">\n                    <div className=\"profile_info\">\n                        <ProfileInfo uid={uid} />\n                        <div style={{width:'100%',height:'2px', backgroundColor:'black'}}/>\n                    </div>\n                    </div>\n\n                    <div className=\"col_2\">\n                    <div className=\"repository_lists\">\n                        <div className=\"repository_lists_top_row\">\n                            <h7>Your Repositories</h7>\n                            <button className=\"create_repository\" onClick={ redirectCreateRepo }>Create Repository</button>\n                        </div>\n                    <RepositoryList uid={uid}/>\n                    </div>\n                    </div>\n                </div>\n            </div>\n            <img src={sine_wave_1} style={{width:\"100%\", bottom:'-15%', zIndex:\"-99\", position:\"absolute\"}}/> \n        </div>\n    );\n}\n\nexport default PersonalHome;","/*\n    Login.js\n    TODO: Sign in & reset password with username\n    TODO: [RISK] unstable reset password & login functionality\n */\nimport React, { useContent } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"../auth/Auth\";\n\nimport db from \"../../Model/base\";\nimport \"../../App.css\";\nimport * as K from '../../Constants';\nimport logo from \"../../Images/wavBase_logo.png\";\nimport * as FirebaseHandler from  \"../../Model/FirebaseHandler.js\";\nimport './Login.css';\n\nconst Login = ({history}) => {\n\n    const handleLogin = (event) =>\n    {\n        event.preventDefault();\n        const {email_or_username, password} = event.target.elements;\n\n        /*\n            TODO: Delegate to db handler?\n            Maybe this insert query should be delegated to FirebaseHandler.js\n            inorder to better conform to MVC design pattern.\n         */\n        try {\n            if (isEmail(email_or_username.value)) {\n                // Login with email and password.\n                let email = email_or_username.value;\n                db\n                    .auth()\n                    .signInWithEmailAndPassword(email, password.value);\n                history.push(\"/\");\n            } else {\n                // TODO: Login with username and password.\n                let username = email_or_username.value;\n                let firebaseRef = db.database().ref(\"users\");\n                firebaseRef\n                    .orderByChild(\"username\")\n                    .equalTo(username)\n                    .on(\"value\", function(snapshot){\n                        let email = snapshot.child(\"email\").val()\n                        db.auth().signInWithEmailAndPassword(email, password.value);\n                });\n                history.push(\"/\");\n                firebaseRef.off();\n            }\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            if (errorCode === 'auth/invalid-email' || errorCode === 'auth/wrong-password') {\n                alert('The email or password you inputted was incorrect. Please try again.');\n            } else {\n                console.log(errorMessage);\n                alert(K.unknown_err);\n            }\n        }\n    }\n\n    /*\n        Check's if user input is an email address.\n        @input: s -> String\n        @output: bool\n     */\n    function isEmail(s) {\n        const exp = new RegExp(\"^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$\");\n        return exp.test(s);\n    }\n\n    const redirectRegister = () => {\n        history.push(\"/register\");\n    }\n\n    window.onload=function() {\n        const resetPW = document.getElementById('resetPW');\n        const idField = document.getElementById('identity');\n\n        // alert(resetPW);\n        const resetPWFunction = () => {\n            alert('resetPTFunc called')\n            if (isEmail(idField.value)) {\n                alert('is email');\n                db.auth().sendPasswordResetEmail(idField.value)\n                    .then(() => {\n                        alert('Password Reset Email Sent Successfully!');\n                        console.log('Password Reset Email Sent Successfully!');\n                    })\n                    .catch(error => {\n                        console.error(error);\n                    })\n            }\n        }\n\n        if (resetPW)\n            resetPW.addEventListener('click', resetPWFunction);\n    }\n\n    return(\n        <div>\n            <div className=\"login_left\">\n                <img className=\"login_logo\" src={logo} alt=\"wavBase Logo\" width=\"209\" height=\"187\" />\n                <hr className=\"separator\"/>\n                <p className=\"login_quote\">Collaborate and share with music creators all over the world!</p>\n            </div>\n\n            <div className=\"login_right\">\n                <h1 className=\"signIn_header\">Sign in to wavBase</h1>\n                {/*<h1>{K.app_name}</h1>*/}\n                {/*<h2>Login</h2>*/}\n                <form onSubmit={handleLogin}>\n                    <label>\n                        <input\n                            className=\"signIn_form\"\n                            id=\"identity\"\n                            name=\"email_or_username\"\n                            type=\"text\"\n                            required=\"required\"\n                            placeholder=\" Username / Email\" />\n                    </label>\n                    <br />\n                    <label>\n                        <input className=\"signIn_form\" name=\"password\" type=\"password\" required=\"required\" placeholder=\" Password\" />\n                    </label>\n                    <br />\n                    <button className=\"button\" type=\"submit\">Sign in</button>\n                    <br />\n                    <button className=\"button\" id=\"resetPW\">Forgot Password / Username?</button>\n                    <hr className=\"separator\"/>\n                    <button className=\"signUp_button\" onClick={redirectRegister}>Sign Up</button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;","/*\n    Register.js\n */\nimport React from 'react';\nimport db from \"../../Model/base\";\nimport \"../../App.css\";\nimport * as K from \"../../Constants\";\nimport logo from \"../../Images/wavBase_logo.png\";\nimport './Register.css'\nimport * as FirebaseHandler from  \"../../Model/FirebaseHandler.js\";\nimport sine_wave_1 from \"../../Images/sine_wave_1.png\";\n\nconst Register = ({ history }) => {\n\n    const handleRegister = (event) => {\n        event.preventDefault();\n\n        // Returns HTML elements from register form\n        const {\n            username,\n            email,\n            password,\n            verify,  // Verification for password.\n        } = event.target.elements;\n\n        console.log(\"Adding user\");\n        console.log(password.value + \"|\" + verify.value);\n\n        // Verifies if user correctly re-entered password when registering\n        if (password.value === verify.value) {\n            console.log(\"Password verified.\");\n\n            try {\n                // Creates user via FirebaseHandler using returned element values\n                FirebaseHandler.createUser(username.value, password.value, email.value);\n                history.push(\"/\");\n            } catch (error) {\n                const errorCode = error.code;\n                const errorMessage = error.message;\n                if (errorCode === 'auth/weak-password') {\n                    alert('The password is too weak! Please Try a different one.');\n                } else if (errorCode === 'auth/email-already-in-use') {\n                    alert('An account already exists with this email!')\n                } else if (errorCode === 'auth/invalid-email') {\n                    alert('Please enter a valid email address!');\n                } else {\n                    console.log(errorMessage);\n                    alert(K.unknown_err);\n                }\n            }\n        } else {\n            alert(\"Please make sure your password matches!\");\n        }\n    }\n\n    const redirectLogIn = () => {\n        history.push(\"/\");\n    }\n\n    return(\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <div className=\"nav_bar\">\n                <img src={logo} className=\"nav_bar_logo\" alt=\"wavBase Logo\" />\n                <button className=\"signIn_btn\" type=\"submit\" onClick={redirectLogIn}>Sign In</button>\n                <form className=\"search_bar\">\n                    <input className=\"search_input\" type=\"text\" placeholder=\" Search\"\n                           name=\"search\"/>\n                    <button type=\"submit\" className=\"search_btn\"><i className=\"fa fa-search\"></i></button>\n                </form>\n\n            </div>\n            {/*<h1>{K.app_name}</h1>*/}\n            {/*<h2>Register an Account</h2>*/}\n            <div className=\"register_left\">\n                <form className=\"register_form\" onSubmit={handleRegister}>\n                    <label>\n                        Username <br/>\n                        <input className=\"register_input\" name=\"username\" type=\"text\" required=\"required\" placeholder=\"Username\"/>\n                    </label>\n                    <br/>\n                    <label>\n                        Email <br/>\n                        <input className=\"register_input\" name=\"email\" type=\"email\" required=\"required\" placeholder=\"Email\"/>\n                    </label>\n                    < br/>\n                    <label>\n                        Password <br/>\n                        <input className=\"register_input\" name=\"password\" type=\"password\" required=\"required\" placeholder=\"Password\"/>\n                    </label>\n                    <br/>\n                    <label>\n                        Re-enter Password <br/>\n                        <input className=\"register_input\" name=\"verify\" type=\"password\" required=\"required\" placeholder=\"Re-enter Password\"/>\n                    </label>\n                    <br/>\n                    <button className=\"register_button\" type=\"submit\">Sign up for wavBase</button>\n                </form>\n            </div>\n\n            <div className=\"upperRight_text\">\n                <h1>Built for <br/> music creators</h1>\n                <p1>\n                    wavBase is a development platform designed for <span className=\"bold_text\">music producers</span>. From open source to collaboration, you can <span className=\"bold_text\">collaborate</span> with others, <span className=\"bold_text\">manage projects</span>, and <span className='bold_text'>share</span> your work to millions of music listeners.\n                </p1>\n            </div>\n            {/*\n            <div className=\"lowerRight_text\">\n                <h2>Get started with wavBase </h2>\n                <p2>Collaborate on a whole new level</p2>\n            </div>/}\n\n\n            {/* <svg className=\"wave_shape\" transform=\"translate(0,125)\" width=\"100%\" height=\"233\" viewBox=\"0 0 1440 233\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M436 33.0881C278.129 -126.817 -112.5 358.5 -112.5 358.5L1480.5 312.088C1480.5 312.088 1365.53 -27.3911 1103.5 113.588C841.466 254.567 593.871 192.993 436 33.0881Z\" fill=\"#00A3E7\" stroke=\"#00A3E7\"/>\n            </svg> */}\n\n            <img src={sine_wave_1} className={\"bottom_wave\"} style={{width:\"100%\", height:\"233\", bottom:\"-3rem\", zIndex:\"-99\", position:\"absolute\"}}/>\n\n            {/*<button className=\"link_button\" onClick={redirectLogIn}>Already have an account?</button>*/}\n            {/*\n            //Not sure if we need fb and twitter on the register(sign up) page\n            <div className=\"footer\">\n                <p className=\"company\">Â© 2020 wavBase Inc.</p>\n                <div className=\"social_media\">\n                    <a href=\"#\" className=\"fa fa-facebook fa-2x\"></a>\n                    <a href=\"#\" className=\"fa fa-twitter fa-2x\"></a>\n                </div>\n            </div>\n            */}\n        </div>\n\n    );\n};\n\nexport default Register;","import React, {Component} from 'react';\nimport {insertRepository} from \"../../Model/FirebaseHandler\";\nimport * as K from '../../Constants'\nimport \"../../App.css\";\nimport './CreateRepoAction.css'\n\nexport class CreateRepoAction extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isPrivate: 'F'\n        }\n    }\n\n    createRepo = (event) => {  // Handles creating a new repository.\n        event.preventDefault();\n        const {\n            repo_name,\n            bpm,\n            key,\n            tags,  // TODO: Create tags.\n            description\n        } = event.target.elements;\n        // TODO: Tags query\n        console.log(this.state.isPrivate)\n\n        if (insertRepository(K.empty, repo_name.value,\n            bpm.value, key.value, description.value)) {  // Call insert repo.\n            this.props.history.push(\"/\");\n        }\n        /*\n        // TODO: UNCOMMENT LATER\n        if (insertRepository(K.empty, repo_name.value,\n           bpm.value, key.value, this.state.isPrivate, description.value)) {  // Call insert repo.\n            this.props.history.push(\"/\"); */\n    }\n\n    handleCheck = (e) => {\n        this.setState({isPrivate: this.state.isPrivate === 'F' ? 'T' : 'F'});\n    }\n\n    render() {\n        return(\n            <div>\n                <form className=\"make_repo_form\" onSubmit={this.createRepo}>\n                    <h1>Create Repository</h1>\n                    <label>\n                        <input className=\"repo_Name\" name=\"repo_name\" type=\"text\" required=\"required\" placeholder=\"Repository name\" />\n                    </label>\n                    <br />\n                    <label>\n                        <input className=\"BPM\" name=\"bpm\" type=\"number\" min=\"60\" max=\"250\" required=\"required\" placeholder=\"BPM\" />\n                    </label>\n                    <br />\n                    <label>\n                        <input className=\"Name\" name=\"key\" type=\"text\" required=\"required\" placeholder=\"Key Signature\" />\n                    </label>\n                    <br />\n                    <label>\n                        <input className=\"Tags\" name=\"tags\" type=\"text\" placeholder=\"Tags\" />\n                    </label>\n                    <br />\n                    <label>\n                        Make repository Private\n                        <input type=\"checkbox\" name=\"isPrivate\" onChange={this.handleCheck}/>\n                    </label>\n                    <br />\n                    <label>\n                        <textarea name=\"description\" cols=\"40\" rows=\"5\" placeholder=\"Description\">\n\n                        </textarea>\n                    </label>\n                    <br />\n                    <button className=\"create_button\" type=\"submit\">Create</button>\n                </form>\n            </div>\n        );\n    }\n}","import React, {Component} from \"react\";\nimport {insertRepository} from \"../../Model/FirebaseHandler\";\nimport * as K from '../../Constants'\nimport {CreateRepoAction} from \"../NewRepoComponents/CreateRepoAction\";\nimport './NewRepo.css'\nimport logo from \"../../Images/wavBase_logo.png\";\nimport db from \"../../Model/base\";\nimport downArrow from \"../../Images/downArrow.png\";\nimport sine_wave_1 from \"../../Images/sine_wave_1.png\";\nimport '../NavBarComponents/NavBar.css'\n\n\nconst NewRepo = ({ history }) => {\n\n    const redirectRepo = () => {\n        history.push(\"/repository\");\n    }\n\n    const redirectProfile = () => {\n        history.push(\"/profile\");\n    }\n\n    return(\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <div className=\"nav_bar\">\n                <img src={logo} className=\"nav_bar_logo\" alt=\"wavBase Logo\" />\n                <div class=\"user_dropdown\">\n                    <button class=\"drop_button\">User</button>\n                    <div class=\"dropdown_content\">\n                        <a href=\"#\" onClick={redirectProfile}>My Profile</a>\n                        <a href=\"#\" onClick={redirectRepo}>My Repositories</a>\n                        <a href=\"#\" onClick={() => db.auth().signOut()}>Sign Out</a>\n                    </div>\n                </div>\n                <img src={downArrow} className=\"down_arrow\" alt=\"Down Arrow\" />\n                {/*\n                <DropdownButton className=\"user_dropdown\" id=\"dropdown-basic-button\" title=\"User\">\n                        <Dropdown.Item as=\"button\" onClick={redirectProfile}>My Profile</Dropdown.Item>\n                        <Dropdown.Item as=\"button\" onClick={redirectRepo}>My Repositories</Dropdown.Item>\n                        <Dropdown.Item as=\"button\" onClick={() => db.auth().signOut()}>Sign Out</Dropdown.Item>\n                </DropdownButton>\n                */}\n                {/*\n                User profile pic and user tab\n\n\n                */}\n                <form className=\"search_bar\">\n                    <input className=\"search_input\" className=\"type_box\" type=\"text\" placeholder=\" Search\"\n                           name=\"search\"/>\n                    <button type=\"submit\" ><i className=\"fa fa-search\"></i></button>\n                </form>\n\n            </div>\n            <img src={sine_wave_1} className={\"bottom_wave\"} style={{width:\"100%\", height:\"233\", bottom:\"-3rem\", zIndex:\"-99\", position:\"absolute\"}}/>\n\n            <CreateRepoAction history={history}/>\n\n\n        </div>\n    );\n};\nexport default NewRepo;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADgSURBVHgBnVG5EcJAENs9AgghICAjhBAiQtMBlEAJdAAd4A6gAjrAVwF2BGQ4JCBwBSf2eDz4GX+auWB3JJ1mxeOpcyTiBTUBSCuAutQQTNRV4rKlhjDAUt0CrQEcqCZA2Is2VN9pI3GiqmKGcM0n+dvAOhmCW9WAmF2riQ0sOoZ2kiQsFQvncj5tfmNsEAQ6ImBdqgcSR+c0YTRxPGZ28tWkr743/1+pHNK24PdVetdKL56PMOwPhj0JN0v6Sm2+ztSdTSBom1St9rgmP1mugT1oolZGXFstjCfzu31FnBftqWA+stLj7AAAAABJRU5ErkJggg==\"","import React, {Component, useState, useEffect} from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport DropdownButton from 'react-bootstrap/DropdownButton'\nimport \"../../App.css\";\nimport db from \"../../Model/base\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport logo from \"../../Images/wavBase_logo.png\";\nimport {ProfileInfo} from \"../HomePageComponents/ProfileInfo\";\nimport \"./Profile.css\"\nimport '../NavBarComponents/NavBar.css'\nimport NavBar from '../NavBarComponents/NavBar.js';\n\n\nconst Profile = ({ history }) => {\n\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    let uid = db.auth().currentUser.uid;\n    let userRef = db.database().ref('users/' + uid);\n    let username, profile_picture_path, user_email;\n    userRef.on('value', (snapshot) =>{\n        username = snapshot.val().username;\n        profile_picture_path = snapshot.val().profile_picture;\n        user_email = snapshot.val().email;\n    })\n\n    let storage = db.storage();\n    let storageRef = storage.ref();\n    storageRef.child(profile_picture_path).getDownloadURL().then(function (url) {\n        let img = document.getElementById('profile_picture');\n        let img2 = document.getElementById('profile_picture2');\n        img.src = url;\n        img2.src = url;\n    })\n\n\n    const redirectHome = () => {\n        history.push(\"/\");\n    }\n\n    // considering home page is repo page\n    const redirectRepo = () => {\n        history.push(\"/\");\n    }\n\n    const handleUploadPicture = (event) => {\n        event.preventDefault();\n        let extension = document.getElementById('picture').value.split('.').pop();\n        let picture_path = 'defaults/' + uid + '.' + extension;\n        let picture_storage = storageRef.child(picture_path);\n        let picture = document.getElementById('picture').files[0];\n        console.log(picture);\n        picture_storage.put(picture).then(function(snapshot) {\n            console.log('New Profile Picture Uploaded');\n        });\n        userRef.update({\n            profile_picture: picture_path\n        });\n\n    }\n\n    const handleInfoUpdate = (event) => {\n        event.preventDefault();\n        let new_username = document.getElementById('new_username').value;\n        let new_bio = document.getElementById('new_bio').value;\n        if (new_username !== \"\") {\n            userRef.update({\n                username: new_username\n            });\n            console.log('New Username: ' + new_username);\n        }\n        if (new_bio !== \"\") {\n            userRef.update({\n                first_name: new_bio.split(' ')[0],\n                last_name: new_bio.split(' ')[1]\n            });\n            console.log('New Bio: ' + new_bio);\n        }\n        document.getElementById('new_username').value = \"\";\n        document.getElementById('new_bio').value = \"\";\n    }\n\n    const resetPassword = () => {\n        db.auth().sendPasswordResetEmail(user_email).then(function() {\n            console.log(\"Password Reset Email sent to:\" + user_email);\n        }).catch(function(error) {\n            console.log(\"Password Reset Email not sent successfully\");\n        });\n    }\n\n    const redirectProfile = () => {\n        // history.push(\"/profile\");\n        alert('You are already on Profile Page!');\n    }\n\n\n\n    return (\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            {/*<div className=\"nav_bar\">*/}\n            {/*    <img src={logo} className=\"nav_bar_logo\" alt=\"wavBase Logo\" />*/}\n\n            {/*    <form className=\"search_bar\">*/}\n            {/*        <input className=\"search_input\" type=\"text\" placeholder=\" Search\"*/}\n            {/*               name=\"search\"/>*/}\n            {/*        <button type=\"submit\" className=\"search_btn\"><i className=\"fa fa-search\"></i></button>*/}\n            {/*        /!*TODO: not sure why this button takes me to sign in page everytime*!/*/}\n            {/*    </form>*/}\n            {/*    <img id=\"profile_picture2\" className=\"top_icon\"/>*/}\n\n            {/*    <DropdownButton*/}\n            {/*        id=\"dropdown-item-button\"*/}\n            {/*        title={ username }*/}\n            {/*        variant=\"success\">*/}\n            {/*        <Dropdown.Item as=\"button\" onClick={ redirectProfile }>My Profile</Dropdown.Item>*/}\n            {/*        <br />*/}\n            {/*        <Dropdown.Item as=\"button\" onClick={ redirectRepo }>My Repositories</Dropdown.Item>*/}\n            {/*        <br />*/}\n            {/*        <Dropdown.Item as=\"button\" onClick={ () => db.auth().signOut() }>Sign Out</Dropdown.Item>*/}\n            {/*        <br />*/}\n            {/*    </DropdownButton>*/}\n            {/*</div>*/}\n            <NavBar />\n            <ProfileInfo uid={uid} />\n\n            <div>\n                <Button variant=\"primary\" onClick={handleShow}>\n                    Edit Profile Picture\n                </Button>\n                <Modal show={show} onHide={handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Choose Your Profile Picture</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <form method=\"post\" onSubmit={handleUploadPicture}>\n                            <input name=\"file\" type=\"file\" id=\"picture\" accept=\"image/*\"/>\n                            <input name=\"token\" type=\"hidden\"/>\n                            <input type=\"submit\" value=\"submit\"/>\n                        </form>\n                    </Modal.Body>\n                    <Modal.Footer>\n\n                    </Modal.Footer>\n                </Modal>\n            </div>\n            <h1>Profile</h1>\n            <form method=\"post\" onSubmit={handleInfoUpdate}>\n                <label>\n                    Username <br/>\n                    <input name=\"username\" type=\"text\" id=\"new_username\" placeholder=\"Username\"/>\n                </label>\n                <br/>\n                <label>\n                    Bio <br/>\n                    <input name=\"bio\" type=\"text\" id=\"new_bio\" placeholder=\"Bio Information\"/>\n                </label>\n                <br/>\n                <input type=\"submit\" value=\"Update\"/>\n            </form>\n            <button onClick={resetPassword}>Reset Password</button>\n            <DropdownButton id=\"dropdown-basic-button\" title=\"User\">\n                <Dropdown.Item as=\"button\" >My Profile</Dropdown.Item>\n                <Dropdown.Item as=\"button\" onClick={redirectRepo}>My Repositories</Dropdown.Item>\n                <Dropdown.Item as=\"button\" onClick={() => db.auth().signOut()}>Sign Out</Dropdown.Item>\n            </DropdownButton>\n            <button onClick={redirectHome}>Go Back to Home!</button>\n        </div>\n    );\n}\n\nexport default Profile;","import React from 'react';\nimport {Component} from 'react';\nimport {useLocation} from \"react-router\";\n\nexport class SnapshotInfo extends Component {\n\n    render() {\n        return(\n            <div>\n                <h2>{this.props.username}/{this.props.repo_name}/{this.props.snapshot_desc}</h2>\n                <h3>{this.props.datetime}</h3>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nimport sine_wave from \"../../Images/sine_wave_1.png\";\n\nimport loading_icon from \"../../Images/loader.gif\"\n\nimport \"./LoadingScreen.css\";\n\n\nconst LoadingScreen = (props) => {\n\n    return (\n        <div>\n            <div className=\"load_text\">\n                <h3 className=\"loading_msg\" data-text={props.message}>\n                    <img className=\"loading_icon\" src={loading_icon} alt=\"Loading...\" height=\"35\" width=\"35\"/>\n                    {props.message}\n                </h3>\n            </div>\n        </div>\n\n    );\n}\n\nexport default  LoadingScreen;","import React, {Component} from \"react\";\nimport ReactPlayer from \"react-player\";\nimport JSZip from 'jszip';\nimport JSZipUtils from 'jszip-utils';\nimport saveAs from 'file-saver';\n\nimport \"./FileList.css\"\n\nimport audio_icon from \"../../Images/music_note_24px_outlined.png\";\nimport folder_icon from \"../../Images/folder.png\";\n\nexport class FileList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            audio_objs: this.props.audio_objs,\n            proj_objs: this.props.proj_objs,\n        }\n\n        console.log(this.state.audio_objs);\n        console.log(this.state.proj_objs);\n    }\n\n    handleDownloadAll(e) {\n        let objs = [];\n        this.state.audio_objs.forEach(obj => {\n            objs.push(obj);\n        });\n        this.props.proj_objs.forEach(obj => {\n            objs.push(obj)\n        });\n        let zip = new JSZip();\n        let count = 0;\n        let zipFilename = this.props.snapshot_name;\n        objs.forEach( (obj) => {\n            let filename = obj.name;\n            console.log(obj.name);\n            // loading a file and add it in a zip file\n            JSZipUtils.getBinaryContent(obj.url, function (err, data) {\n                if (err) {\n                    throw err; // or handle the error\n                }\n                zip.file(filename, data, { binary: true });\n                count++;\n                if (count === objs.length) {\n                    zip.generateAsync({ type: 'blob' }).then(function (content) {\n                        saveAs(content, zipFilename);\n                        console.log(\"done\");\n                    });\n                }\n            });\n        });\n    }\n\n    render() {\n\n        const audioFileElement = this.state.audio_objs.map(obj =>\n            <tr key={ obj.id }>\n                <td>\n                    <img className=\"audio_ico\" src={ audio_icon } alt=\"audio_icon\" height=\"20\" width=\"20\"/>\n                    { obj.name }\n                </td>\n                <td>\n                    <ReactPlayer\n                        url={ obj.url }\n                        width=\"400px\"\n                        height=\"50px\"\n                        playing={ false }\n                        controls={ true }\n                        volume={0.5 }\n                        progressInterval={ 5000 }\n                        pip={ true }\n                    />\n                </td>\n            </tr>\n        );\n\n        const projectFileElement = this.state.proj_objs.map(obj =>\n            <tr key={ obj.id }>\n                <td style={ {width: '200px', textAlign: 'left'} }>\n                    <img className=\"file_ico\" src={ folder_icon } alt=\"file_icon\" height=\"20\" width=\"20\"/>\n                    { obj.name }\n                </td>\n                <td>\n                    <button className=\"download_file_btn\">\n                        <i className=\"fa fa-download\"/>\n                        <a href={obj.url} download={ obj.name }> Download File</a>\n                    </button>\n                </td>\n            </tr>\n        );\n\n        return (\n            <div>\n                <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"/>\n                <button className=\"download_all_btn\" onClick={ () => this.handleDownloadAll()}>\n                    <i className=\"fa fa-download\"/>\n                     Download All\n                </button>\n                <table>\n                    <thead>\n\n                    </thead>\n                    <tbody>\n                    { audioFileElement }\n                    { projectFileElement }\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC7SURBVHgB7ZU7CsJAFEWvnyKWWli4BVu3kNZSt6FNFmHlBlyArW7DRtAVWFhaaul9zBNEzHzCpAiZA4eBSbiXzAsMkHDQQTibkv3i32YXNdP8gj6qU/i8lGbQggLXXzSkSzqhGT0hYoGErzX4wwwRC+YafqV7OqB5aIltBlNdD/RFH/SIQGwFz59VyBCx4K7rAmYeEp7r3gWe2O4DCV3BnP038kVbmCNz0rM8k3M/0xEda/CN7nzDE168AV6dFj+xdpXeAAAAAElFTkSuQmCC\"","import React, {Component} from \"react\";\nimport ReactPlayer from \"react-player\";\nimport db from \"../../Model/base\";\nimport LoadingScreen from \"../LoadingComponent/LoadingScreen\";\n\nimport audio_icon from \"../../Images/music_note_24px_outlined.png\";\nimport folder_icon from \"../../Images/folder.png\";\nimport {FileList} from \"./FileList\";\n\nexport class LoadingFiles extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoading: true,\n            audio_objs: null,\n            proj_objs: null,\n        };\n\n        this.storageRef = db.storage().ref();\n    }\n\n    componentDidMount() {\n        const file_paths = this.parseFileString();\n\n        const audio_paths = file_paths[0];\n        const proj_paths = file_paths[1];\n\n        this.getObjs(audio_paths, proj_paths).then((objs) => {\n            setTimeout(() => {\n                this.setState({\n                    isLoading: false,\n                    audio_objs: objs[0],\n                    proj_objs: objs[1]\n                });\n            }, 5000);\n        });\n    }\n\n    parseFileString() {\n        let audio_paths = [];\n        let proj_paths = [];\n        let file_paths = this.props.snapshot_paths.split(',');\n        console.log(file_paths);\n        file_paths.forEach(file_path => {\n            if (file_path.indexOf('.mp3') !== -1 || file_path.indexOf('.wav') !== -1) {\n                audio_paths.push(file_path);\n            } else {\n                proj_paths.push(file_path);\n            }\n        });\n        return [audio_paths, proj_paths]\n    }\n\n    async getObjs(audio_paths, proj_paths) {\n        let audio_objs = [];\n        let proj_objs = [];\n        let id = 0;\n        try {\n            await audio_paths.forEach(path => {\n                this.storageRef\n                    .child(path)\n                    .getDownloadURL()\n                    .then((url) => {\n                        let obj = {\n                            id: id,\n                            name: this.getName(path),\n                            url: url\n                        }\n                        audio_objs.push(obj);\n                        id++;\n                    });\n            });\n            id = 0;\n            await proj_paths.forEach(path => {\n                this.storageRef\n                    .child(path)\n                    .getDownloadURL()\n                    .then((url) => {\n                        let obj = {\n                            id: id,\n                            name: this.getName(path),\n                            url: url\n                        }\n                        proj_objs.push(obj);\n                        id++;\n                    });\n            });\n        } catch (error) {\n            console.log(error);\n        }\n        return [audio_objs, proj_objs];\n    }\n\n\n    getName(path) {\n        const p = path.split('/');\n        return p.slice(-1)[0];\n    }\n\n    render() {\n\n        const {isLoading, audio_objs, proj_objs} = this.state;\n\n        console.log(isLoading);\n        return (\n            isLoading\n                ? <LoadingScreen message=\"Getting your files!\"/>\n                : <FileList\n                    audio_objs={ audio_objs }\n                    proj_objs={ proj_objs }\n                    snapshot_name ={this.props.snapshot_name}/>\n        );\n    }\n}","import React, {Component} from \"react\";\nimport \"../../App.css\";\n\nimport * as K from '../../Constants';\nimport * as FirebaseHandler from  \"../../Model/FirebaseHandler.js\";\nimport {PlayButton} from \"../../Model/PlayButton\";\n\nimport UploadSnapshot from \"../RepositoryPageComponents/UploadSnapshot\";\n\n\nimport {SnapshotInfo} from \"../SnapshotComponents/SnapshotInfo\";\n\nimport {useLocation} from 'react-router';\nimport {LoadingFiles} from \"../SnapshotComponents/LoadingFiles\";\n\n/**\n *\n * @param history\n * @returns {JSX.Element}\n * @constructor\n */\nconst Snapshot = ({history}) => {\n\n    const location = useLocation();\n\n    console.log(location.state.snapshot);\n    console.log(location.state.repo_name);\n\n    return (\n        <div>\n            <SnapshotInfo\n                username={location.state.username}\n                repo_name = {location.state.repo_name}\n                snapshot_desc = {location.state.snapshot.description}\n                datetime = {location.state.snapshot.upload_date}\n            />\n\n            <LoadingFiles\n                snapshot_paths={location.state.snapshot.files}\n                snapshot_name={location.state.snapshot.description}\n            />\n        </div>\n    );\n};\n\nexport default Snapshot;","import React, {useEffect, useState} from \"react\";\nimport {Link, NavLink} from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport db from \"../../Model/base\";\n\nfunction ResultsInterface(props) {\n    return (\n        <div>\n            <DropdownButton id=\"dropdown-basic-button\" title=\"Options\">\n                <Dropdown.Item as=\"button\"><Link to='/search_result'>Users</Link></Dropdown.Item>\n                <Dropdown.Item as=\"button\"><Link\n                    to='/search_result/repositories'>Repositories</Link></Dropdown.Item>\n                <Dropdown.Item as=\"button\"><Link to='/search_result/tags'>Tags</Link></Dropdown.Item>\n            </DropdownButton>\n        </div>\n    );\n}\n\nexport default ResultsInterface;","/**\r\n * @param {string} ids\r\n */\r\nfunction ParseIds(ids) {\r\n    let id = [];\r\n    if (ids !== '' && ids != null) {\r\n        id = ids.split(\",\");\r\n    }\r\n    return id;\r\n}\r\n\r\n/**\r\n * @param {string} ids\r\n * @param {string} id\r\n */\r\nexport function AddId(ids, id) {\r\n    if (ids === '') {\r\n        return id;\r\n    } else if (IncludeId(ids, id)) {\r\n        return ids\r\n    } else {\r\n        return ids + ',' + id;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {string} ids\r\n * @param {string} id\r\n */\r\nexport function DeleteId(ids, id) {\r\n    if (ids === '') {\r\n        return ids;\r\n    } else if (IncludeId(ids, id)) {\r\n        let id_list = ParseIds(ids);\r\n        let result = '';\r\n        id_list.forEach(entry => {\r\n            if (entry !== id) {\r\n                if (result === '') {\r\n                    result = result + entry;\r\n                }\r\n                else {\r\n                    result = result + ',' + entry;\r\n                }\r\n            }\r\n        })\r\n        return result;\r\n    } else {\r\n        return ids;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {string} ids\r\n * @param {string} id\r\n */\r\nexport function IncludeId(ids, id) {\r\n    let parsedIds = ParseIds(ids);\r\n    return parsedIds.includes(id);\r\n}\r\n\r\n/**\r\n * @param {string} ids\r\n */\r\nexport function getIdCount(ids) {\r\n    let parsedIds = ParseIds(ids);\r\n    return parsedIds.length;\r\n}\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport db from \"../../Model/base\";\r\nimport {AddId, DeleteId, getIdCount, IncludeId} from \"./ParseId\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction UserDisplayComponent(props) {\r\n    const username = props.username;\r\n    const uid = props.uid;\r\n    //console.log(username + ' + ' + uid);\r\n    const current_uid = db.auth().currentUser.uid;\r\n\r\n    const [user, setUser] = useState(props.user || []);\r\n\r\n    const getUserRef = (uid) => {\r\n        let config = {\r\n            method: 'GET',\r\n            headers: {'Content-Type': 'application/json'}\r\n        };\r\n        return fetch('http://localhost:8000/user_info?current_uid=' + uid, config)\r\n            .then(response => response.json())\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    const updateFollow = (uid, current_uid, type) => {\r\n        let config = {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                uid, current_uid, type\r\n            })\r\n        };\r\n        fetch('http://localhost:8000/user_info/follow?uid=' + uid, config)\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('listen to user status');\r\n        if (!props.user) {\r\n            getUserRef(uid).then(user_snapshot => {\r\n                setUser(user_snapshot);\r\n                let picture = \"defaults/test_user.png\";\r\n                if (user_snapshot.profile_picture !== '') {\r\n                    picture = user_snapshot.profile_picture;\r\n                }\r\n                let image_url;\r\n                if (localStorage.getItem(picture)) {\r\n                    image_url = localStorage.getItem(picture);\r\n                } else {\r\n                    db.storage().ref().child(picture).getDownloadURL().then(function (url) {\r\n                        image_url = url;\r\n                        localStorage.setItem(picture, url);\r\n                    });\r\n                }\r\n                let img2 = document.getElementById(uid + 'user_avatar');\r\n                if (img2 != null) {\r\n                    img2.src = image_url;\r\n                }\r\n                /*db.storage().ref().child(picture).getDownloadURL().then(function (url) {\r\n                    console.log(username + '\\'s url is ' + url);\r\n                    let img2 = document.getElementById(uid + 'user_avatar');\r\n                    if (img2 != null) {\r\n                        img2.src = url;\r\n                    }\r\n                });*/\r\n            })\r\n        }\r\n        return () => {\r\n            console.log('stop listen to user status');\r\n        }\r\n    }, [props.user]);\r\n\r\n    const handleFollow = () => {\r\n        updateFollow(uid, current_uid, 'follow');\r\n        let tmp_user = user;\r\n        tmp_user = {...tmp_user, followers: AddId(tmp_user.followers, current_uid)}\r\n        localStorage.setItem('following', AddId(localStorage.getItem('following'), uid));\r\n        if (document.getElementById(current_uid + 'following')) {\r\n            document.getElementById(current_uid + 'following').innerText = getIdCount(localStorage.getItem('following')) + ' following';\r\n        }\r\n        setUser(tmp_user);\r\n    }\r\n\r\n    const handleUnfollow = () => {\r\n        updateFollow(uid, current_uid, 'unfollow');\r\n        let tmp_user = user;\r\n        tmp_user = {...tmp_user, followers: DeleteId(tmp_user.followers, current_uid)}\r\n        localStorage.setItem('following', DeleteId(localStorage.getItem('following'), uid));\r\n        if (document.getElementById(current_uid + 'following')) {\r\n            document.getElementById(current_uid + 'following').innerText = getIdCount(localStorage.getItem('following')) + ' following';\r\n        }\r\n        setUser(tmp_user);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ul>\r\n                <img id={uid + 'user_avatar'} width={30} height={30}/>\r\n                <p id={'user_username'}><Link to={'/user/' + uid}>{username}</Link></p>\r\n                {((uid !== current_uid) && (!IncludeId(user.followers, current_uid))) ?\r\n                    <button onClick={handleFollow}>Follow</button> : <></>}\r\n                {((uid !== current_uid) && (IncludeId(user.followers, current_uid))) ?\r\n                    <button onClick={handleUnfollow}>Unfollow</button> : <></>}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserDisplayComponent;","import React, {useEffect, useState, useHistory} from \"react\";\r\nimport db from \"../../Model/base\";\r\nimport {Link} from \"react-router-dom\";\r\nimport UserDisplayComponent from \"./UserDisplayComponent\";\r\n\r\nfunction UserSearchResult(props) {\r\n\r\n    let search_input = document.getElementById('search_input').value;\r\n    const [users, setUsers] = useState([]);\r\n\r\n    const uid = db.auth().currentUser.uid;\r\n\r\n    const findUsers = (uid) => {\r\n        const repo_ref = db.database().ref().child('users');\r\n        return repo_ref.once('value')\r\n            .then(snapshot => snapshot.val())\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('listen to user list');\r\n        if (!users) {\r\n            findUsers(uid).then(users_snapshot => {\r\n                let users_list = [];\r\n                for (let user in users_snapshot) {\r\n                    //console.log(1);\r\n                    users_list.push({...users_snapshot[user], key: user});\r\n                }\r\n                setUsers(users_list);\r\n            });\r\n        }\r\n        return () => {\r\n            console.log('stop listen to user list');\r\n        }\r\n    }, [users]);\r\n\r\n    /*{users && users.map((user, key) => (\r\n        (user.val().username.toLowerCase().includes(search_input.toLowerCase())) ? <button>{user.val().username}</button> : <></>\r\n    ))}*/\r\n\r\n    //<button id={key}><Link to={'/user/' + user.key}>{user.username}</Link></button>\r\n    return (\r\n        <div>\r\n            <h2>User Search Result</h2>\r\n            {users && users.map((user, key) => (\r\n                (user.username.toLowerCase().includes(search_input.toLowerCase()) && (user.key !== uid)) ?\r\n                    <UserDisplayComponent id={key} uid={user.key} username={user.username}/> : <></>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserSearchResult;","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Link }from \"react-router-dom\";\n\nimport Home from \"./View/routes/Home\";\nimport PersonalHome from \"./View/routes/PersonalHome\";\nimport Login from \"./View/routes/Login\";\nimport Register from \"./View/routes/Register\";\nimport NewRepo from \"./View/routes/NewRepo\";\nimport Repository from \"./View/routes/Repository\";\nimport Profile from \"./View/routes/Profile\";\nimport Snapshot from \"./View/routes/Snapshot\";\nimport ResultsInterface from \"./View/routes/ResultsInterface\";\nimport UserSearchResult from \"./View/SearchResultsComponents/UserSearchResult\";\n\nimport PrivateRoute from \"./View/auth/PrivateRoute\";\nimport { AuthProvider} from \"./View/auth/Auth\";\n\nimport './App.css';\n\nfunction App() {\n    return(\n\n        <AuthProvider>\n            <Router>\n                <div>\n                    <PrivateRoute exact path=\"/\" component={ PersonalHome } />\n                    <Route exact path=\"/login\" component={Login} />\n                    <Route exact path=\"/register\" component={Register} />\n                    <PrivateRoute exact path=\"/newrepo\" component={NewRepo} />\n                    <PrivateRoute exact path=\"/repository\" component={Repository} />\n                    <PrivateRoute exact path=\"/snapshot\" component={Snapshot} />\n                    <PrivateRoute exact path=\"/profile\" component={Profile} />\n                    <PrivateRoute path='/search_result' component={ResultsInterface}/>\n                    <PrivateRoute exact path='/search_result' component={UserSearchResult}/>\n                </div>\n            </Router>\n        </AuthProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}