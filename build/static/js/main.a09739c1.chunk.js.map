{"version":3,"sources":["Model/base.js","Images/wavBase_logo.png","View/GlobalComponent/ParseId.js","BackendFunctions.js","View/SearchResultsComponents/UserDisplayComponent.js","View/FollowPopUpComponents/FollowersPopUp.js","View/FollowPopUpComponents/FollowingPopUp.js","View/HomePageComponents/NameBioFollowers.js","Images/loader.gif","View/HomePageComponents/ProfileInfo.js","View/NavBarComponents/NavBar.js","View/HomePageComponents/RepositoryList.js","View/auth/Auth.js","View/auth/PrivateRoute.js","Constants.js","View/GlobalComponent/Date.js","Model/FirebaseHandler.js","View/NewRepoComponents/CreateRepoAction.js","Images/public.png","Images/private.png","Images/sine_wave_1.png","View/routes/NewRepo.js","View/GlobalComponent/PlayButton.js","View/RepositoryPageComponents/SnapshotListManager.js","View/RepositoryPageComponents/UploadSnapshot.js","Images/folder@3x.png","View/SnapshotComponents/SnapshotInfo.js","View/LoadingComponent/LoadingScreen.js","Images/folder.png","View/SnapshotComponents/FileList.js","Images/music_note_24px_outlined.png","View/SnapshotComponents/LoadingFiles.js","View/routes/Snapshot.js","View/routes/Profile.js","View/routes/ResultsInterface.js","View/SearchComponents/UserSearchResult.js","View/SearchComponents/RepoSearchResult.js","View/GlobalComponent/ParseTags.js","View/SearchComponents/TagsSearchResult.js","Images/default_repo_thumbnail.png","View/RepositoryPageComponents/CommentsDisplayComponent.js","View/RepositoryPageComponents/LikedListDisplayComponent.js","View/ShareRepoComponent/ShareButtons.js","View/RepositoryPageComponents/RepositoryInfo.js","View/RepositoryModals/SnapshotModal.js","View/RepositoryModals/UseSnapshotModal.js","View/RepositoryPageComponents/SnapshotList.js","View/routes/Repository.js","View/routes/PersonalHome.js","View/routes/Login.js","View/routes/Register.js","View/routes/ResetPassword.js","App.js","reportWebVitals.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ParseIds","ids","id","split","AddId","IncludeId","DeleteId","id_list","result","forEach","entry","includes","getIdCount","length","GetUserRef","uid","fetch","method","headers","then","response","json","catch","error","console","log","GetProfileImageUrl","image_path","UpdateUserInfo","username","bio","config","body","JSON","stringify","FindRepos","UpdateFollow","current_uid","type","FindUsers","GetSnapshotInfo","snap_id","GetFileMetadata","file_path","GetFileUrl","UserDisplayComponent","props","auth","currentUser","useState","user","setUser","useEffect","user_snapshot","image_url","profile_picture","localStorage","getItem","img2","document","getElementById","src","url","map","link","key","setItem","className","followers","onClick","tmp_user","innerText","to","FollowersPopUp","users","setUsers","current_user","setCurrentUser","users_snapshot","users_list","push","FollowingPopUp","following","NameBioFollowers","trigger","position","biography","ProfileInfo","useHistory","repos","useParams","loading","alt","tmp_followers","NavBar","history","setImageUrl","rel","href","logo","onSubmit","event","preventDefault","value","placeholder","DropdownButton","title","variant","Dropdown","Item","as","clear","signOut","r","RepositoryList","setRepos","user_id","repos_snapshot","repos_list","repo","repo_id","repoElement","is_private","style","width","textAlign","name","curr_repo","pathname","state","AuthContext","React","createContext","AuthProvider","children","onAuthStateChanged","Provider","PrivateRoute","RouteComponent","component","rest","useContext","render","routeProps","unknown_err","TimeStampToString","today","Date","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","database","ref","CreateRepoAction","isPrivate","handleCheck","e","checked","target","elements","repo_name","bpm","tags","description","CreateRepo","required","onChange","min","max","cols","rows","NewRepo","sine_wave_1","height","bottom","zIndex","Component","SnapshotListManager","UploadSnapshot","setSnapshotList","folder","setFolder","showProgressBar","setProgressBar","setUploadFileName","setFileProgress","progress","setProgress","handleUpload","a","snapshotDesc","uploadStorage","uploadRealtime","filePaths","total","files","time_stamp","count","i","updateProgressBar","file","destination","formData","FormData","append","axios","post","onUploadProgress","ProgressEvent","tmp_progress","Math","round","loaded","res","metaData","d","data","err","Object","keys","toString","stage","datetime","DateToString","des","date","CreateSnapshotRef","tmp_list","snapshot","align","accept","directory","webkitdirectory","currentTarget","multiple","ProgressBar","animated","now","label","SnapshotInfo","marginTop","snapshot_desc","LoadingScreen","data-text","message","loading_icon","FileList","audio_objs","proj_objs","objs","this","obj","zip","JSZip","zipFilename","snapshot_name","filename","JSZipUtils","getBinaryContent","binary","generateAsync","content","saveAs","audioFileElement","playing","controls","volume","progressInterval","pip","projectFileElement","folder_icon","download","handleDownloadAll","LoadingFiles","loadComplete","setLoadComplete","setSnapshot","setAudioObjs","setProjObjs","getName","path","slice","snap_snapshot","file_paths","paths","audio_paths","proj_paths","indexOf","parseFileString","tmp_audio_objs","tmp_proj_objs","u","Snapshot","marginLeft","upload_date","new_description","snapshot_id","UpdateSnapshotInfo","tmp_snapshot","DeleteSnapshot","snapshot_paths","Profile","profile_username","bio_info","user_bio","img","new_username","new_bio","password","UpdateUserPassword","alert","marginBottom","Button","picture_object","extension","pop","picture_path","picture","picture_formData","reader","FileReader","onload","readAsDataURL","ResultsInterface","window","location","endsWith","UserSearchResult","search_input","toLowerCase","RepoSearchResult","ParseTags","tag","TagsSearchResult","CommentsDisplayComponent","comments","comment_elements","comment","padding","text","LikedListDisplayComponent","liked","likes","individual_user_id","username_list","setUsernameList","tmp_username_list","ShareButtons","el","createElement","appendChild","select","execCommand","removeChild","cursor","FacebookShareButton","repo_owner","bgStyle","hashtag","TwitterShareButton","iconFillColor","RepositoryInfo","visitor_id","setRepo","visitor","setVisitor","setComments","tmp_comments","handleRepoInfoUpdate","new_tags","UpdateRepoInfo","tmp_repo","handleLike","like_id_list","HandleLike","marginRight","repo_thumbnail","display","defaultValue","DeleteRepo","HandleComment","maxWidth","SnapshotModal","isShowing","hide","ReactDOM","createPortal","Fragment","aria-modal","aria-hidden","tabIndex","role","data-dismiss","aria-label","UseSnapshotModal","setIsShowing","toggle","SnapshotList","snapshot_list","GetSnapshotListByRepoId","snapshot_list_snapshot","snapshotElement","curr_snapshot","Repository","setRepoOwner","GetRepoInfo","repo_snapshot","owner_snapshot","PersonalHome","Login","s","email_or_username","RegExp","test","email","signInWithEmailAndPassword","firebaseRef","orderByChild","equalTo","on","child","val","off","errorCode","code","errorMessage","K","Register","verify","CreateUser","ResetPassword","idField","sendPasswordResetEmail","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.a09739c1.chunk.js","sourcesContent":["/*\n    base.js\n */\nimport firebase from \"firebase\";\n\n// noinspection SpellCheckingInspection\nconst db = firebase.initializeApp({\n    apiKey: \"AIzaSyCAsj0sKvrY1hqtXZYS_GbPyehKPXOzZ6Y\",\n    authDomain: \"wavbasedb-9a679.firebaseapp.com\",\n    databaseURL: \"https://wavbasedb-9a679.firebaseio.com/\",\n    projectId: \"wavbasedb-9a679\",\n    storageBucket: \"wavbasedb-9a679.appspot.com\",  // Path to Firebase Storage.\n    messagingSenderId: \"707190956098\",\n    appId: \"1:707190956098:web:88fa31bd96d13289c64ddb\",\n    measurementId: \"G-C56V3L638G\"\n});\n\nexport default db;","export default __webpack_public_path__ + \"static/media/wavBase_logo.b40fe7ab.png\";","/**\n * @param {string} ids\n */\nexport function ParseIds(ids) {\n    if ((typeof ids) !== \"string\") {\n        ids = '';\n    }\n    let id = [];\n    if (ids !== '' && ids != null) {\n        id = ids.split(\",\");\n    }\n    return id;\n}\n\n/**\n * @param {string} ids\n * @param {string} id\n */\nexport function AddId(ids, id) {\n    if ((typeof ids) !== \"string\") {\n        ids = '';\n    }\n    if (ids === '') {\n        return id;\n    } else if (IncludeId(ids, id)) {\n        return ids\n    } else {\n        return ids + ',' + id;\n    }\n}\n\n/**\n * @param {string} ids\n * @param {string} id\n */\nexport function DeleteId(ids, id) {\n    if ((typeof ids) !== \"string\") {\n        ids = '';\n    }\n    if (ids === '') {\n        return ids;\n    } else if (IncludeId(ids, id)) {\n        let id_list = ParseIds(ids);\n        let result = '';\n        id_list.forEach(entry => {\n            if (entry !== id) {\n                if (result === '') {\n                    result = result + entry;\n                }\n                else {\n                    result = result + ',' + entry;\n                }\n            }\n        })\n        return result;\n    } else {\n        return ids;\n    }\n}\n\n/**\n * @param {string} ids\n * @param {string} id\n */\nexport function IncludeId(ids, id) {\n    let parsedIds = ParseIds(ids);\n    if (parsedIds.includes(id)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n/**\n * @param {string} ids\n */\nexport function getIdCount(ids) {\n    let parsedIds = ParseIds(ids);\n    return parsedIds.length;\n}\n\n","import axios from \"axios\";\n\nexport const GetUserRef = (uid) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/user_info?current_uid=' + uid, config)\n        .then(response => response.json())\n        .catch(error => console.log(\"Home page \" + error));\n}\n\nexport const GetProfileImageUrl = (image_path) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/user_info/get_image_url?image_path=' + image_path, config)\n        .then(response => response.json())\n        .catch(error => console.log(\"Home page \" + error));\n}\n\nexport const UpdateUserInfo = (uid, username, bio, image_path) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            uid, username, bio, image_path\n        })\n    };\n    fetch('http://localhost:8000/user_info/update_user_info', config)\n        .catch(error => console.log(error));\n}\n\nexport const UpdateUserPassword = (uid, password) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            uid, password\n        })\n    };\n    fetch('http://localhost:8000/user_info/update_password', config)\n        .catch(error => console.log(error));\n}\n\nexport const FindRepos = (uid) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/repo_list?uid=' + uid, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const UpdateFollow = (uid, current_uid, type) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            uid, current_uid, type\n        })\n    };\n    fetch('http://localhost:8000/user_info/follow?uid=' + uid, config)\n        .catch(error => console.log(error));\n}\n\nexport const FindUsers = (uid) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/user_list?' + uid, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const CreateUser = (username, password, email) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            username, password, email\n        })\n    };\n    fetch('http://localhost:8000/user_info/create_user', config)\n        .catch(error => console.log(error));\n}\n\nexport const CreateRepo = (uid, repo_name, bpm, key, tags, is_private, description) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            uid, repo_name, bpm, key, tags, is_private, description\n        })\n    };\n    fetch('http://localhost:8000/repo_info/create_repo', config)\n        .catch(error => console.log(error));\n}\n\nexport const UpdateRepoInfo = (repo_id, tags, description) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            repo_id, tags, description\n        })\n    };\n    fetch('http://localhost:8000/repo_info/update_repo_info', config)\n        .catch(error => console.log(error));\n}\n\nexport const UpdateSnapshotInfo = (snapshot_id, description) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            snapshot_id, description\n        })\n    };\n    fetch('http://localhost:8000/snapshot_info/update_snapshot_info', config)\n        .catch(error => console.log(error));\n}\n\n/*export const UpdateProfileImage = (picture_formData) => {\n    axios.post('http://localhost:8000/user_info/update_profile_image', picture_formData, {\n        /!*onUploadProgress: (ProgressEvent) => {\n            let tmp_progress = Math.round(\n                ProgressEvent.loaded / ProgressEvent.total * 100) + '%';\n            setProgress(tmp_progress);\n        }*!/\n    }).then(res => {\n        console.log(res);\n    }).catch(err => console.log(err));\n}*/\n\nexport const GetRepoInfo = (repo_id) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/repo_info?repo_id=' + repo_id, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const GetSnapshotListByRepoId = (repo_id) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/snapshot_list?repo_id=' + repo_id, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const GetSnapshotInfo = (snap_id) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/snapshot_info?snap_id=' + snap_id, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const GetFileMetadata = (file_path) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/file_link?file_path=' + file_path, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const CreateSnapshot = (description, files, repo_id, upload_date) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            description, files, repo_id, upload_date\n        })\n    };\n    fetch('http://localhost:8000/snapshot_info/create_snapshot', config)\n        .catch(error => console.log(error));\n}\n\nexport const GetFileUrl = (file_path) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/file_url?file_path=' + file_path, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const DeleteSnapshot = (snap_id, repo_id) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'},\n    };\n     return fetch('http://localhost:8000/snapshot_info/delete_snapshot?snap_id=' + snap_id + '&repo_id=' + repo_id, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const DeleteRepo = (repo_id) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            repo_id\n        })\n    };\n    fetch('http://localhost:8000/repo_info/delete_repo', config)\n        .catch(error => console.log(error));\n}\n\nexport const HandleComment = (repo_id, username, comment) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            repo_id, username, comment\n        })\n    };\n    fetch('http://localhost:8000/repo_info/add_comment', config)\n        .catch(error => console.log(error));\n}\n\nexport const HandleLike = (repo_id, likes) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            repo_id, likes\n        })\n    };\n    fetch('http://localhost:8000/repo_info/update_likes', config)\n        .catch(error => console.log(error));\n}\n\nexport const SignIn = (email, password) => {\n    let config = {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            email, password\n        })\n    };\n    return fetch('http://localhost:8000/sign_in', config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n\nexport const CreateSnapshotRef = (des, files, repo_id, date) => {\n    let config = {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'}\n    };\n    return fetch('http://localhost:8000/snapshot_info/create_snapshot_ref?des=' + des + '&files=' + files + '&repo_id=' + repo_id + '&date=' + date, config)\n        .then(response => response.json())\n        .catch(error => console.log(error));\n}\n","import React, {useEffect, useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {AddId, DeleteId, getIdCount, IncludeId} from \"../GlobalComponent/ParseId\";\nimport {GetProfileImageUrl, GetUserRef, UpdateFollow} from \"../../BackendFunctions\";\n//import db from \"../../Database_config\";\nimport db from \"../../Model/base\";\nimport \"../SearchComponents/SearchResult.css\";\nimport \"../HomePageComponents/RepositoryList.css\"\n\nfunction UserDisplayComponent(props) {\n    const username = props.username;\n    const uid = props.uid;\n    //console.log(username + ' + ' + uid);\n    const current_uid = db.auth().currentUser.uid;\n\n    const [user, setUser] = useState(props.user || []);\n\n    useEffect(() => {\n        console.log('listen to user status');\n        if (!props.user) {\n            GetUserRef(uid).then(user_snapshot => {\n                setUser(user_snapshot);\n                let image_path = \"defaults/test_user.png\";\n                if (user_snapshot.profile_picture !== '') {\n                    image_path = user_snapshot.profile_picture;\n                }\n                let image_url;\n                if (localStorage.getItem(image_path)) {\n                    image_url = localStorage.getItem(image_path);\n                    let img2 = document.getElementById(uid + 'profile_picture');\n                    if (img2 != null) {\n                        img2.src = image_url;\n                    }\n                } else {\n                    GetProfileImageUrl(image_path).then(url => {\n                        url.map((link, key) => {\n                            image_url = link;\n                        })\n                        localStorage.setItem(image_path, image_url);\n                        console.log(image_url);\n                        let img2 = document.getElementById(uid + 'profile_picture');\n                        if (img2 != null) {\n                            img2.src = image_url;\n                        }\n                    });\n                }\n                /*db.storage().ref().child(picture).getDownloadURL().then(function (url) {\n                    console.log(username + '\\'s url is ' + url);\n                    let img2 = document.getElementById(uid + 'user_avatar');\n                    if (img2 != null) {\n                        img2.src = url;\n                    }\n                });*/\n            })\n        }\n        return () => {\n            console.log('stop listen to user status');\n        }\n    }, [props.user]);\n\n    const handleFollow = () => {\n        UpdateFollow(uid, current_uid, 'follow');\n        let tmp_user = user;\n        tmp_user = {...tmp_user, followers: AddId(tmp_user.followers, current_uid)}\n        localStorage.setItem('following', AddId(localStorage.getItem('following'), uid));\n        if (document.getElementById(current_uid + 'following button')) {\n            document.getElementById(current_uid + 'following button').innerText = getIdCount(localStorage.getItem('following')) + ' following';\n        }\n        setUser(tmp_user);\n    }\n\n    const handleUnfollow = () => {\n        UpdateFollow(uid, current_uid, 'unfollow');\n        let tmp_user = user;\n        tmp_user = {...tmp_user, followers: DeleteId(tmp_user.followers, current_uid)}\n        localStorage.setItem('following', DeleteId(localStorage.getItem('following'), uid));\n        if (document.getElementById(current_uid + 'following button')) {\n            document.getElementById(current_uid + 'following button').innerText = getIdCount(localStorage.getItem('following')) + ' following';\n        }\n        setUser(tmp_user);\n    }\n\n    return (\n        <div>\n            <ul className=\"userList\" >\n                <img id={uid + 'profile_picture'} className=\"profilePic\"/>\n\n\n\n                {((uid !== current_uid) && (!IncludeId(user.followers, current_uid))) ?\n                    <button className=\"followBtn\" onClick={handleFollow}>Follow</button> : <></>}\n\n                {((uid !== current_uid) && (IncludeId(user.followers, current_uid))) ?\n                    <button className=\"followBtn\" onClick={handleUnfollow}>Unfollow</button> : <></>}\n\n                {(uid === current_uid) ? <p id={uid + 'user_username'}><Link to={'/'}>{username}</Link></p> :\n                    <p id={uid + 'user_username'}><Link to={'/user/' + uid} className=\"searchUsername\">{username}</Link></p>}\n            </ul>\n            <hr/>\n            <br/>\n        </div>\n    );\n}\n\nexport default UserDisplayComponent;","import React, {useEffect, useState, useHistory} from \"react\";\nimport {Link, useParams} from \"react-router-dom\";\nimport {FindUsers, GetUserRef} from \"../../BackendFunctions\";\nimport {IncludeId} from \"../GlobalComponent/ParseId\";\nimport UserDisplayComponent from \"../SearchResultsComponents/UserDisplayComponent\";\nimport \"./follow.css\"\n\nfunction FollowersPopUp(props) {\n\n\n    const [users, setUsers] = useState(0);\n    const [current_user, setCurrentUser] = useState(0);\n    //const {uid} = useParams();\n    const uid = props.id;\n    //console.log('popup',uid);\n\n\n    useEffect(() => {\n        console.log('listen to user list and user');\n        if (!current_user) {\n            GetUserRef(uid).then(user_snapshot => {\n                setCurrentUser(user_snapshot);\n            })\n        }\n        if (!users) {\n            FindUsers(uid).then(users_snapshot => {\n                let users_list = [];\n                for (let user in users_snapshot) {\n                    //console.log(1);\n                    users_list.push({...users_snapshot[user], key: user});\n                }\n                setUsers(users_list);\n            });\n        }\n        return () => {\n            console.log('stop listen to user list and user');\n        }\n    }, [current_user, users, props.id]);\n\n\n    return (\n        <div className=\"popUp\">\n            <h2 className=\"follow-title\">{current_user.username}'s followers</h2>\n            {users && users.map((user, key) => (\n                (IncludeId(current_user.followers, user.key)) ?\n                    <UserDisplayComponent id={key} uid={user.key} username={user.username}/> : <></>\n            ))}\n        </div>\n    );\n}\n\nexport default FollowersPopUp;","import React, {useEffect, useState, useHistory} from \"react\";\nimport {Link, useParams} from \"react-router-dom\";\nimport {FindUsers, GetUserRef} from \"../../BackendFunctions\";\nimport {IncludeId} from \"../GlobalComponent/ParseId\";\nimport UserDisplayComponent from \"../SearchResultsComponents/UserDisplayComponent\";\n\nfunction FollowingPopUp(props) {\n\n    const [users, setUsers] = useState(0);\n    const [current_user, setCurrentUser] = useState(0);\n    //const {uid} = useParams();\n    const uid=props.id;\n\n    useEffect(() => {\n        console.log('listen to user list and user');\n        if (!current_user) {\n            GetUserRef(uid).then(user_snapshot => {\n                setCurrentUser(user_snapshot);\n            })\n        }\n        if (!users) {\n            FindUsers(uid).then(users_snapshot => {\n                let users_list = [];\n                for (let user in users_snapshot) {\n                    //console.log(1);\n                    users_list.push({...users_snapshot[user], key: user});\n                }\n                setUsers(users_list);\n            });\n        }\n        return () => {\n            console.log('stop listen to user list and user');\n        }\n    }, [current_user, users, props.id]);\n\n\n    return (\n        <div className=\"popUp\">\n            <h2 className=\"follow-title\">{current_user.username} is following</h2>\n            {users && users.map((user, key) => (\n                (IncludeId(current_user.following, user.key)) ?\n                    <UserDisplayComponent id={key} uid={user.key} username={user.username}/> : <></>\n            ))}\n        </div>\n    );\n}\n\nexport default FollowingPopUp;","import React, {Component} from \"react\";\nimport \"./NameBioFollowers.css\"\nimport {getIdCount} from \"../GlobalComponent/ParseId\";\nimport Popup from \"reactjs-popup\";\nimport FollowersPopUp from \"../FollowPopUpComponents/FollowersPopUp\";\nimport FollowingPopUp from \"../FollowPopUpComponents/FollowingPopUp\";\n\nexport function NameBioFollowers(props) {\n\n    //console.log('namebio: ', props.uid);\n    const checkFollower = () => {\n        return getIdCount(props.followers);\n    }\n\n    const checkFollowing = () => {\n        return getIdCount(props.following);\n    }\n\n    return (\n        <div>\n            <h3 id=\"username\">{props.username}</h3>\n            <Popup id={props.uid + 'followers popup'}\n                   trigger={<button id={props.uid + 'followers button'}>{checkFollower()} followers</button>}\n                   position={'right center'}>\n                <FollowersPopUp id={props.uid}/>\n            </Popup>\n            <Popup id={props.uid + 'following popup'}\n                   trigger={<button id={props.uid + 'following button'}>{checkFollowing()} following</button>}\n                   position={'right center'}>\n                <FollowingPopUp id={props.uid}/>\n            </Popup>\n            <hr/>\n            <div className=\"bio_div\">\n                <p id=\"bio\">{props.biography}</p>\n            </div>\n        </div>\n    )\n\n}","export default __webpack_public_path__ + \"static/media/loader.6dd4bf27.gif\";","import React, {Component, useEffect, useState} from \"react\";\nimport {FollowerCount} from \"./FollowerCount\"\nimport {NameBioFollowers} from \"./NameBioFollowers\";\nimport db from \"../../Model/base\";\nimport loading from \"../../Images/loader.gif\"\n\nimport \"./ProfileInfo.css\"\nimport {useHistory, useParams} from \"react-router\";\nimport {FindRepos, GetProfileImageUrl, GetUserRef, UpdateFollow} from \"../../BackendFunctions\";\nimport {AddId, DeleteId, IncludeId} from \"../GlobalComponent/ParseId\";\n\n\nexport function ProfileInfo(props) {\n    const uid = props.uid;\n    const current_uid = db.auth().currentUser.uid;\n\n    const history = useHistory();\n    const [user, setUser] = useState(props.user || []);\n\n    useEffect(() => {\n        //if (localStorage.getItem('repo_page_id') !== uid) {\n        console.log('listen to user info');\n        if (!props.user) {\n            GetUserRef(uid).then(user_snapshot => {\n                setUser(user_snapshot);\n                /*let profile_username = document.getElementById(uid + 'display_username');\n                if (profile_username != null) {\n                    profile_username.innerText = user_snapshot.username;\n                }*/\n                let image_path = \"defaults/test_user.png\";\n                if (user_snapshot.profile_picture !== '') {\n                    image_path = user_snapshot.profile_picture;\n                }\n                let image_url;\n                if (localStorage.getItem(image_path)) {\n                    image_url = localStorage.getItem(image_path);\n                } else {\n                    GetProfileImageUrl(image_path).then(url => {\n                        url.map((link, key) => {\n                            image_url = link;\n                        })\n                        localStorage.setItem(image_path, image_url);\n                    });\n                }\n                //console.log(image_url);\n                let img2 = document.getElementById(uid + 'profile_picture');\n                if (img2 != null) {\n                    img2.src = image_url;\n                }\n            })\n        }\n\n        //localStorage.setItem('repo_page_id', uid);\n        //}\n        return () => {\n            console.log('stop listen to repository');\n        }\n\n    }, [props.repos, props.user, useParams()]);\n\n    //console.log('profileinfo', user.username);\n    const handleFollow = () => {\n        UpdateFollow(uid, current_uid, 'follow');\n        let tmp_user = user;\n        let tmp_followers = AddId(tmp_user.followers, current_uid);\n        tmp_user = {...tmp_user, followers: tmp_followers};\n        localStorage.setItem('following', AddId(localStorage.getItem('following'), uid));\n        setUser(tmp_user);\n    }\n\n    const handleUnfollow = () => {\n        UpdateFollow(uid, current_uid, 'unfollow');\n        let tmp_user = user;\n        let tmp_followers = DeleteId(tmp_user.followers, current_uid);\n        tmp_user = {...tmp_user, followers: tmp_followers}\n        localStorage.setItem('following', DeleteId(localStorage.getItem('following'), uid));\n        setUser(tmp_user);\n    }\n\n    return (\n        <div id=\"ProfileInfoContainer\">\n            <img className=\"user_profile_picture\" id={uid + \"profile_picture\"} src={loading} alt=\"Profile Picture\"/>\n            {((uid !== current_uid) && (!IncludeId(user.followers, current_uid))) ?\n                <button onClick={handleFollow}>Follow</button> : <></>}\n            {((uid !== current_uid) && (IncludeId(user.followers, current_uid))) ?\n                <button onClick={handleUnfollow}>Unfollow</button> : <></>}\n            <NameBioFollowers\n                uid={uid}\n                username={user.username}\n                biography={user.biography}\n                followers={user.followers}\n                following={user.following}\n            />\n\n        </div>\n    );\n}\n\n/*\nexport class ProfileInfo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: '',\n            biography: '',\n            followers: '',\n            following: '',\n            profile_picture_path: loading\n        };\n\n        let uid;\n        if (this.props.uid === null) {\n            uid = db.auth().currentUser.uid;\n        } else {\n            uid = this.props.uid;\n        }\n\n        this.firebaseRef = db.database().ref('users/' + uid);\n        this.storageRef = db.storage().ref();\n    };\n\n    componentDidMount() {\n        // TODO: TRANSFER TO MODEL\n        this.firebaseRef.once('value',(snapshot) => {\n            const data = snapshot.val();\n            console.log(data);\n            this.setState({\n                username: data.username,\n                biography: data.biography,\n                followers: data.followers,\n                following: data.following,\n                profile_picture_path: data.profile_picture\n            });\n        }).then(() => {\n            console.log(this.state.profile_picture_path);\n            this.storageRef.child(this.state.profile_picture_path).getDownloadURL().then( function (url) {\n                console.log(url);\n                let pfp = document.getElementById(\"profile_picture\");\n                pfp.src = url;\n            }).catch( (error) => {\n                console.log(error)\n            });\n        });\n    }\n\n    render() {\n        return (\n            <div id=\"ProfileInfoContainer\">\n                <img className=\"user_profile_picture\" id=\"profile_picture\" src={loading} alt=\"Profile Picture\"/>\n                <NameBioFollowers\n                    username={this.state.username}\n                    biography={this.state.biography}\n                    followers={this.state.followers}\n                    following={this.state.following}\n                />\n\n            </div>\n        );\n    }\n}*/\n","import React, {Component, useEffect, useState} from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport db from \"../../Model/base\";\nimport \"../routes/PersonalHome.css\";\nimport {useHistory} from 'react-router-dom';\nimport logo from \"../../Images/wavBase_logo.png\";\nimport {ProfileInfo} from \"../HomePageComponents/ProfileInfo\";\nimport {Link} from \"react-router-dom\";\nimport \"./NavBar.css\"\nimport {GetProfileImageUrl, GetUserRef} from \"../../BackendFunctions\";\n\nfunction NavBar(props) {\n\n    let current_uid = db.auth().currentUser.uid;\n    const history = useHistory();\n    const [user, setUser] = useState(props.user || []);\n    const [image_url, setImageUrl] = useState(0);\n\n    useEffect(\n        () => {\n            console.log('listen to home');\n            if (!props.user) {\n                GetUserRef(current_uid)\n                    .then(user_snapshot => {\n                        setUser(user_snapshot);\n                        //document.getElementById('greeting_username').innerText = 'Hello ' + user_snapshot.username;\n\n                        let image_path = user_snapshot.profile_picture;\n                        let image_url;\n                        if (localStorage.getItem(image_path)) {\n                            setImageUrl(image_url);\n                            image_url = localStorage.getItem(image_path);\n                        } else {\n                            GetProfileImageUrl(image_path).then(url => {\n                                url.map((link, key) => {\n                                    image_url = link;\n                                })\n                                setImageUrl(image_url);\n                                localStorage.setItem(image_path, image_url);\n                            });\n                        }\n                        //console.log(image_url);\n                        let img = document.getElementById('profile_picture2');\n                        img.src = image_url;\n                        localStorage.setItem('current_uid', current_uid);\n                        localStorage.setItem('username', user_snapshot.username);\n                        localStorage.setItem('following', user_snapshot.following);\n                    });\n            }\n            return () => {\n                console.log('stop listen to home');\n            }\n        }, [props.user]\n    );\n\n\n    const redirectRepo = () => {\n        history.push(\"/\");\n    }\n\n    const redirectProfile = () => {\n        history.push(\"/profile\");\n    }\n\n    const handleSignOut = () => {\n        localStorage.clear();\n        db.auth().signOut().then(r => {\n            console.log('Successfully signed out');\n        });\n    }\n\n    const handleSearch = (event) => {\n        event.preventDefault();\n        if (document.getElementById('search_input').value !== '') {\n            history.push('/search_result/repositories');\n        }\n    }\n    return (\n        <div className=\"nav_bar\">\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <img src={logo} className=\"nav_bar_logo\" alt=\"wavBase Logo\" />\n            <form className=\"search_bar\" onSubmit={handleSearch}>\n                <label>\n                    <input id='search_input' type=\"text\" placeholder={'Search'}></input>\n                </label>\n                <button type=\"submit\" className=\"search_btn\"><i className=\"fa fa-search\"></i></button>\n            </form>\n\n            <img id=\"profile_picture2\" className=\"top_icon\" src={image_url}/>\n\n            <DropdownButton\n                id=\"dropdown-item-button\"\n                title={ user.username }\n                variant=\"success\">\n                \n                <Dropdown.Item as=\"button\" onClick={ redirectProfile }>My Profile</Dropdown.Item>\n                <Dropdown.Item as=\"button\" onClick={ redirectRepo }>My Repositories</Dropdown.Item>\n                <Dropdown.Item as=\"button\" onClick={ handleSignOut }>Sign Out</Dropdown.Item>\n            </DropdownButton>\n        </div>\n    )\n};\n\nexport default NavBar;","import React, {Component, useEffect, useState} from \"react\";\n\nimport db from \"../../Model/base\";\n\nimport {Link, withRouter} from \"react-router-dom\";\n\nimport \"./RepositoryList.css\";\nimport {useHistory, useParams} from \"react-router\";\nimport {ProfileInfo} from \"./ProfileInfo\";\nimport {FindRepos, GetProfileImageUrl, GetUserRef} from \"../../BackendFunctions\";\n\nfunction RepositoryList(props) {\n    const history = useHistory();\n    const [repos, setRepos] = useState(props.repos || []);\n\n    const {user_id} = useParams();\n\n    let current_uid = db.auth().currentUser.uid;\n    let uid = current_uid;\n    if (user_id != null) {\n        uid = user_id;\n    }\n    console.log('Entering', uid + \"'s repo page\");\n\n    useEffect(() => {\n        console.log('listen to repository');\n        if (!props.repos) {\n            FindRepos(uid)\n                .then(repos_snapshot => {\n                    let repos_list = [];\n                    for (let repo in repos_snapshot) {\n                        repos_list.push({...repos_snapshot[repo], repo_id: repo});\n                    }\n                    setRepos(repos_list);\n                });\n        }\n        return () => {\n            console.log('stop listen to repository');\n        }\n\n    }, [props.repos, props.user, useParams()]);\n\n    const redirectToRepo = (curr_repo) => {\n        history.push({\n            pathname: \"/repo/\" + curr_repo.repo_id,\n            state: {  // Pass as props for Repository page.\n                repo: curr_repo\n            }\n        });\n    }\n\n    let repoElement = [];\n    if (repos) {\n        repoElement = repos.map((repo, key) => (\n            (repo.user_id === uid) && ((uid === current_uid) || (repo.is_private !== 'T' && uid !== current_uid)) ?\n                <tr style={ {width: '100%'}} key={ repo.repo_id }>\n                    <td style={ {width: '100%', textAlign: 'left'} }>\n                        <button className=\"repo_button\" name=\"repo_links\"\n                                onClick={ () => redirectToRepo(repo) }>\n                            { repo.name }\n                        </button>\n                    </td>\n                </tr> : <></>\n        ))\n    }\n\n    return(\n        <div className=\"container\">\n            <ProfileInfo uid={uid}/>\n            <div className=\"col_2\">\n            {(uid === current_uid) ? <button className=\"create_repository\"><Link to={'/newrepo'}>Create Repository</Link></button> : <></>}\n                <div className=\"repo_list_div\">\n                    {/* <table style={{border: '1px solid blue'}}> */}\n                    <table style={ {width: '100%'}}>\n                        <tbody style={ {width: '100%'}}>\n                        { repoElement }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n}\nexport default RepositoryList;\n\n/*class RepositoryList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            repos: []\n        }\n\n        this.user_id = this.props.uid;\n        console.log(this.user_id);\n\n        this.firebaseRef = db.database().ref('repositories');\n    }\n\n    componentDidMount() {\n        // TODO: NEED TO MOVE TO BACK END\n\n        try {\n            this.firebaseRef\n                .orderByChild('user_id')\n                .equalTo(this.user_id)\n                .once('value', (dataSnapshot) => {\n                    let repos = [];\n                    dataSnapshot.forEach(repoData => {\n                        let repo = repoData.val();\n                        repo['repo_id'] = repoData.key;\n                        repos.push(repo);\n                    });\n                    this.setState({repos: repos});\n                }).then(() => {\n                console.log(this.state.repos)\n            });\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    redirectToRepo(curr_repo) {\n        this.props.history.push({\n            pathname: \"/repository\",\n            state: {  // Pass as props for Repository page.\n                repo: curr_repo\n            }\n        });\n    }\n\n    render() {\n\n        const repoElement = this.state.repos.map(repos =>\n            <tr key={ repos.repo_id }>\n                <td style={ {width: '200px', textAlign: 'left'} }>\n                    <button className=\"repo_button\" name=\"repo_links\"\n                            onClick={ () => this.redirectToRepo(repos) }>\n                        { repos.name }\n                    </button>\n                </td>\n            </tr>\n        );\n\n        return (\n\n        );\n    }\n}*/","/*\n    Auth.js\n */\nimport React, {useEffect , useState} from \"react\";\nimport db from \"../../Model/base\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({children}) => {\n    const [currentUser, setCurrentUser] = useState(null);\n\n    useEffect(() => {\n        db.auth().onAuthStateChanged(setCurrentUser);\n    },[]);\n\n    return(\n        <AuthContext.Provider value={{currentUser}}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthProvider;\n","/*\n    PrivateRoute.js\n */\nimport React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext} from \"./Auth\";\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest}) => {\n    const {currentUser} = useContext(AuthContext);\n\n    return (\n        <Route\n            {...rest}\n            render={routeProps =>\n                !!currentUser ? (\n                    <RouteComponent {...routeProps} />\n                ) : (\n                    <Redirect to=\"/register\" />\n                )\n            }\n        />\n    );\n};\n\nexport default PrivateRoute;\n","/*\n    Constants.js\n    All the constants used for wavBase.\n    Please use these instead of typing in name to avoid typos\n    and so that we can easily change messages on the fly.\n\n    When writing a new file, please include:\n    `import * as K from \"<path to Constants.js>\"\n */\n\n// Name of application\n\n/* APP NAME & LOGOS */\nexport const app_name = \"wavBase\";\n\nexport const logo_path = \"Images/wavBase_logo.png\"\n\n/* RULES */\nexport const empty = \"\" // Specifies omitted fields in db.\n\n\n/* FIREBASE TABLE NAMES */\nexport const user_tab = \"users\";\nexport const repo_tab = \"repositories\";\nexport const snapshot_tab = \"snapshots\"\nexport const proj_folder_path = \"project_folder\";\nexport const like_tab= \"like\";\nexport const comment_tab = \"comment\";\nexport const tags_tab = \"tags\";\n\n\n/* FIREBASE REAL TIME DB PATHS */\n\n/* FIREBASE STORAGE PATHS */\nexport const default_user_png = \"defaults/test_user.png\"\nexport const default_repo_png = \"defaults/default_repo_thumbnail.png\"\n\n/* ERROR MESSAGES */\nexport const unknown_err = \"Uh Oh! Something went wrong. Please try again.\";\n\n/* REPOSITORY */\nexport const create_repo = \"Create a new repository +\";\nexport const edit_repo = \"Edit repoistory\";\n\n/* SNAPSHOT */\nexport const create_snapshot = \"Create a new snapshot\";","/**\n * Get the current date as a string\n * @returns {string} The current date formatted as `MM-DD-YYYY`.\n */\nexport let DateToString = () => {\n    const today = new Date();\n    const month = today.getMonth() + 1;\n    const day = today.getDate() <= 10 ? '0' + today.getDate() : today.getDate();\n    const year = today.getFullYear();\n    return month + '-' + day + '-' + year;\n}\n\nexport let TimeStampToString = () => {\n    const today = new Date();\n    const month = today.getMonth() + 1;\n    const day = today.getDate() <= 10 ? '0' + today.getDate() : today.getDate();\n    const year = today.getFullYear();\n    const hours = today.getHours();\n    const minutes = today.getMinutes();\n    const sec = today.getSeconds();\n    return month + '-' + day + '-' + year + '-' + hours + '-' + minutes + '-' + sec;\n}\n\nexport let RankByDate = (readArr) => {\n    let ranked = [];\n    readArr.forEach(i => {\n    });\n}","/*\n    FirebaseHandler.js\n */\nimport db from \"./base.js\";\nimport * as K from \"../Constants.js\";\nimport {DateToString} from \"../View/GlobalComponent/Date\";\n\n/*** wavBase.users queries ***/\n\nconst ref = db.database().ref();\n\n/**\n * Creates a data entry for new user\n * @param {string} username \n * @param {string} password \n * @param {string} email \n * @param {string} first_name \n * @param {string} last_name \n */\n/*export function createUser(username, password, email) {\n    // Creates user id with email and password values\n    db\n    .auth()\n    .createUserWithEmailAndPassword(\n        email,\n        password\n    );\n\n    // Sets child values for user id\n    db.auth().onAuthStateChanged(function (user) {\n        if (user) {\n            db.database().ref('users/' + user.uid).set({\n                username: username,\n                email: email,\n                first_name: K.empty,\n                last_name: K.empty,\n                biography: K.empty,\n                profile_picture: K.default_user_png,\n                followers: 0,\n                following: 0,\n            });\n        }\n    });\n}*/\n\n/**\n * Queries for user id based on email passed in\n * @param {string} email \n * @param {function} callback\n */\n/*export function getUserByEmail(email, callback) {\n    try {\n        let uid = \"\";\n\n        // Sort children by email and query matching email; store in snapshot\n        ref.child('users').orderByChild('email').equalTo(email).once(\"value\", (snapshot) => {\n\n            // Data entry in snapshot should contain table for this user\n            snapshot.forEach((entry) => {\n                uid = entry.key;\n            });\n\n            // Callback once finish processing snapshot data\n            callback(uid);\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}*/\n\n/**\n * Updates value for user based on parameters\n * @param {string} updatePath e.g. \"users/uid/biography\" to update the biography field of a user\n * @param {*} updateVal \n * @param {function} callback \n */\n/*export function updateUser(updatePath, updateVal, callback) {\n    try {\n        // Specifies where to update and what value to use\n        var updates = {};\n        updates[updatePath] = updateVal;\n\n        // Writes to the nodes specified\n        ref.update(updates);\n\n        // Passes updated value through callback\n        ref.child(updatePath).once(\"value\", (snapshot) => {\n            callback(snapshot.val());\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}*/\n\n/**\n * Deletes user by user id\n * @param {string} uid \n */\n/*export function deleteUser(uid) {\n    try {\n        // Removes UID from Firebase\n        ref.child(\"users/\" + uid).remove().then(() => {\n            console.log(\"Deleted \" + uid);\n        });\n\n        // Deletes all repositories tied to user\n        function callback(listOfRepo) {\n            for (let i = 0; i < listOfRepo.length; i++) {\n                deleteRepository(listOfRepo[i]);\n            }\n        }\n\n        // Finds list of repositories tied to user\n        findRepositories(uid,callback);\n    } catch(error) {\n        console.log(error.message);\n    }\n}*/\n\n/*** wavBase.repositories queries ***/\n\n/**\n * Insert a new repository into the wavBase/repositories.\n * @param {string} tags_id\n * @param {string} repo_name\n * @param {string} bpm\n * @param {string} key\n * @param {string} description\n * @return {int}\n */\n/*export function insertRepository(tags_id, repo_name, bpm,\n                                 key, description) {\n    console.log(\"Creating a new Repository\");\n    try {\n        let uid = db.auth().currentUser.uid\n        let firebaseRef = db.database().ref(\"repositories/\")\n        firebaseRef.push({\n            user_id: uid,\n            name: repo_name,\n            bpm: bpm,\n            key: key,\n            description: description,\n            snapshots: K.empty,\n            repo_likes: 0,\n            comments: K.empty,\n            thumbnail: K.default_repo_png,  // set default repository image.\n            upload_date: DateToString()\n        })\n        firebaseRef.off();\n\n        return 1;  // Insert Successful\n    }\n    catch (error){\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.log(errorMessage)\n        alert(K.unknown_err);\n        return 0; // Insert Fail\n    }\n}*/\n\n/**\n * Finds all repositories tied to a user id\n * @param {string} uid \n * @param {function} callback \n */\n/*export function findRepositories(uid, callback) {\n    try {\n        // Sort children by email and query matching email; store in snapshot\n        ref.child('repositories').orderByChild('user_id').equalTo(uid).once(\"value\", (snapshot) => {\n            let repos = [];\n\n            // Data entry in snapshot should contain table for this user\n            snapshot.forEach((entry) => {\n                repos = repos.concat([entry.key]);\n            });\n\n            // Callback once finish processing snapshot data\n            callback(repos);\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}*/\n\n// Update a repository's fields in the database.\nexport function updateRepository(updatePath, updateVal, callback) { \n    try {\n        // Specifies where to update and what value to use\n        var updates = {};\n        updates[updatePath] = updateVal;\n\n        // Writes to the nodes specified\n        ref.update(updates);\n\n        // Passes updated value through callback\n        ref.child(updatePath).once(\"value\", (snapshot) => {\n            callback(snapshot.val());\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n// Delete a Repository.\nexport function deleteRepository(repo_id) { \n    try {\n        ref.child(\"repositories/\" + repo_id).remove().then(() => {\n            console.log(\"Deleted \" + repo_id);\n        });\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\n/*** wavBase.snapshots queries ***/\n\n// Insert a new snapshot into the database.\nfunction insertSnapshot(id, repo_id, project_folder_id, description) { }\n\n// Update a snapshot's fields in the database.\nfunction updateSnapshot(id) { }\n\n// Delete a snapshot from the database.\nfunction deleteSnapshot(id) { }\n\n/*** wavBase.project_folder queries ***/\n// Insert a new projct folder into the database.\nfunction insertProjFolder(id, project_file, snippet, midi_files, sample_files){ }\n\nfunction deleteProjFolder(id) { }\n\n/*** wavBase.comments queries ***/\n\n/*** wavBase.tags queries ***/","import React, {Component, useEffect, useState} from 'react';\nimport \"../../App.css\";\nimport './CreateRepoAction.css'\nimport privateLock from \"../../Images/private.png\";\nimport publicGlobe from \"../../Images/public.png\";\nimport db from \"../../Model/base\";\nimport {CreateRepo} from \"../../BackendFunctions\";\nimport {useHistory} from \"react-router\";\n\nlet name = \"User\";\n\nexport function CreateRepoAction(props) {\n    const history = useHistory();\n    let isPrivate = 'F';\n    const username = localStorage.getItem('username');\n    const uid = localStorage.getItem('current_uid');\n    console.log(uid, 'is creating new repo');\n\n\n    const createRepo = (event) => {  // Handles creating a new repository.\n        event.preventDefault();\n        const {\n            repo_name,\n            bpm,\n            key,\n            tags,  // TODO: Create tags.\n            description\n        } = event.target.elements;\n        console.log(isPrivate);\n\n\n        CreateRepo(uid, repo_name.value,\n            bpm.value, key.value, tags.value, isPrivate, description.value);\n        history.push(\"/\");\n    }\n\n\n    const handleCheck = (e) => {\n        if (isPrivate === 'T') {\n            isPrivate = 'F';\n            console.log('The repo is now set to be public');\n            document.getElementById('public_checkbox').checked = true;\n            document.getElementById('private_checkbox').checked = false;\n        } else {\n            isPrivate = 'T';\n            console.log('The repo is now set to be private');\n            document.getElementById('public_checkbox').checked = false;\n            document.getElementById('private_checkbox').checked = true;\n        }\n    }\n\n    return (\n        <div>\n            <h2>create repo</h2>\n            <form className=\"make_repo_form\" onSubmit={createRepo}>\n                <h1>Create Repository</h1>\n                <div className=\"topPart\">\n                    <label className=\"name_box\">\n                        <b1>{username}</b1>\n                    </label>\n                    <label>\n                        <input className=\"repoName_input\" name=\"repo_name\" type=\"text\" required=\"required\" placeholder=\"Repository Name\"/>\n                    </label>\n                </div>\n                <br/>\n                <div className=\"public_option\">\n                    <input id='public_checkbox' type=\"checkbox\" checked={true} onChange={handleCheck}/>\n                    <b2>Public</b2>\n                    <img src={publicGlobe} className={\"public_globe\"} />\n                </div>\n                <div className=\"private_option\" >\n                    <input id='private_checkbox' type=\"checkbox\" name=\"isPrivate\" onChange={handleCheck}/>\n                    <b2>Private</b2>\n                    <img src={privateLock} className={\"private_globe\"} />\n                </div>\n                <br />\n                <div className=\"mainpart_input\">\n                    <label>\n                        <input className=\"createRepo_input\" name=\"bpm\" type=\"number\" min=\"60\" max=\"250\" required=\"required\" placeholder=\"BPM\"/>\n                    </label>\n                    <br />\n                    <label>\n                        <input className=\"createRepo_input\" name=\"key\" type=\"text\" required=\"required\" placeholder=\"Key Signature\"/>\n                    </label>\n                    <br />\n                    <label>\n                        <input className=\"createRepo_input\" name=\"tags\" type=\"text\" placeholder=\"Tags - Separate them with ,\"/>\n                    </label>\n                    <br />\n                    <label>\n                            <textarea name=\"description\" cols=\"40\" rows=\"5\" placeholder=\"Description\" >\n\n                           </textarea>\n                    </label>\n                    <br />\n                    <button className=\"create_button\" type=\"submit\">Create</button>\n                </div>\n\n\n            </form>\n        </div>\n    );\n}\n\n/*\nexport class CreateRepoAction extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isPrivate: 'F'\n        }\n    }\n\n\n    createRepo = (event) => {  // Handles creating a new repository.\n        event.preventDefault();\n        const {\n            repo_name,\n            bpm,\n            key,\n            tags,  // TODO: Create tags.\n            description\n        } = event.target.elements;\n        // TODO: Tags query\n        console.log(this.state.isPrivate)\n\n       /!* if (insertRepository(K.empty, repo_name.value,\n            bpm.value, key.value, description.value)) {  // Call insert repo.\n            this.props.history.push(\"/\");\n        }*!/\n\n        /!*if (insertRepository(K.empty, repo_name.value,\n           bpm.value, key.value, this.state.isPrivate, description.value)) {  // Call insert repo.\n            this.props.history.push(\"/\"); *!/\n        CreateRepo(tags, repo_name.value,\n            bpm.value, key.value, this.state.isPrivate, description.value);\n        this.props.history.push(\"/\");\n    }\n\n    handleCheck = (e) => {\n        this.setState({isPrivate: this.state.isPrivate === 'F' ? 'T' : 'F'});\n    }\n\n    /!*username = () => {\n        let user = db.auth().currentUser;\n        //let name, email, photoUrl, uid, emailVerified;\n        let username\n        if (user != null) {\n            //name = user.email;\n\n            let uid = db.auth().currentUser.uid;\n            let firebaseRef = db.database().ref('users/' + uid);\n            firebaseRef.on('value', (snapshot) =>{\n                username = snapshot.val().username;\n                name = username;\n            })\n        }\n    }*!/\n\n\n\n    render() {\n        this.username();\n        return(\n            <div>\n                <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n                <form className=\"make_repo_form\" onSubmit={this.createRepo}>\n                    <h1>Create Repository</h1>\n                    <div className=\"topPart\">\n                        <label className=\"name_box\">\n                            <b1>{name}</b1>\n                        </label>\n                        <label>\n                            <input className=\"repoName_input\" name=\"repo_name\" type=\"text\" required=\"required\" placeholder=\"Repository Name\"/>\n                        </label>\n                    </div>\n                    <br/>\n                        <div className=\"public_option\">\n                            <input type=\"checkbox\" />\n                            <b2>Public</b2>\n                            <img src={publicGlobe} className={\"public_globe\"} />\n                        </div>\n                        <div className=\"private_option\" >\n                            <input type=\"checkbox\" name=\"isPrivate\" onChange={this.handleCheck}/>\n                            <b2>Private</b2>\n                            <img src={privateLock} className={\"private_globe\"} />\n                        </div>\n                    <br />\n                    <div className=\"mainpart_input\">\n                        <label>\n                            <input className=\"createRepo_input\" name=\"bpm\" type=\"number\" min=\"60\" max=\"250\" required=\"required\" placeholder=\"BPM\"/>\n                        </label>\n                        <br />\n                        <label>\n                            <input className=\"createRepo_input\" name=\"key\" type=\"text\" required=\"required\" placeholder=\"Key Signature\"/>\n                        </label>\n                        <br />\n                        <label>\n                            <input className=\"createRepo_input\" name=\"tags\" type=\"text\" placeholder=\"Tags - Separate them with ,\"/>\n                        </label>\n\n\n\n                       <br />\n                       <label>\n                            <textarea name=\"description\" cols=\"40\" rows=\"5\" placeholder=\"Description\" >\n\n                           </textarea>\n                        </label>\n                        <br />\n                        <button className=\"create_button\" type=\"submit\">Create</button>\n                    </div>\n\n\n                </form>\n\n            </div>\n        );\n    }\n}*/\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/sine_wave_1.f74ac0ce.png\";","import React, {Component} from \"react\";\nimport {insertRepository} from \"../../Model/FirebaseHandler\";\nimport * as K from '../../Constants'\nimport {CreateRepoAction} from \"../NewRepoComponents/CreateRepoAction\";\nimport NavBar from \"../NavBarComponents/NavBar.js\";\nimport './NewRepo.css'\nimport logo from \"../../Images/wavBase_logo.png\";\nimport db from \"../../Model/base\";\nimport downArrow from \"../../Images/downArrow.png\";\nimport sine_wave_1 from \"../../Images/sine_wave_1.png\";\nimport '../NavBarComponents/NavBar.css'\nimport './NewRepo.css'\nimport {useHistory} from \"react-router\";\n\n\nfunction NewRepo(props) {\n\n    const history = useHistory();\n\n    const redirectRepo = () => {\n        history.push(\"/repository\");\n    }\n\n    const redirectProfile = () => {\n        history.push(\"/profile\");\n    }\n\n    return(\n        <div>\n\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <img src={sine_wave_1} className={\"bottom_wave\"} style={{width:\"100%\", height:\"233\", bottom:\"-10rem\", zIndex:\"-99\", position:\"absolute\"}}/>\n\n            <CreateRepoAction id=\"createRepoForm\" />\n\n\n        </div>\n    );\n}\n\nexport default NewRepo;\n\n/* We now use navbar.js\n            <div className=\"nav_bar\">\n                <img src={logo} className=\"nav_bar_logo\" alt=\"wavBase Logo\" />\n                <div class=\"user_dropdown\">\n                    <button class=\"drop_button\">User</button>\n                    <div class=\"dropdown_content\">\n                        <a href=\"#\" onClick={redirectProfile}>My Profile</a>\n                        <a href=\"#\" onClick={redirectRepo}>My Repositories</a>\n                        <a href=\"#\" onClick={() => db.auth().signOut()}>Sign Out</a>\n                    </div>\n                </div>\n                <img src={downArrow} className=\"down_arrow\" alt=\"Down Arrow\" />\n                {/*\n                <DropdownButton className=\"user_dropdown\" id=\"dropdown-basic-button\" title=\"User\">\n                        <Dropdown.Item as=\"button\" onClick={redirectProfile}>My Profile</Dropdown.Item>\n                        <Dropdown.Item as=\"button\" onClick={redirectRepo}>My Repositories</Dropdown.Item>\n                        <Dropdown.Item as=\"button\" onClick={() => db.auth().signOut()}>Sign Out</Dropdown.Item>\n                </DropdownButton>\n\n                User profile pic and user tab\n\n\n\n                <form className=\"search_bar\">\n                    <input className=\"search_input\" className=\"type_box\" type=\"text\" placeholder=\" Search\"\n                           name=\"search\"/>\n                    <button type=\"submit\" ><i className=\"fa fa-search\"></i></button>\n                </form>\n\n            </div>\n            */","import '../../App.css';\nimport React, { Component, useState } from \"react\";\nimport db from \"../../Model/base\";\nimport ReactPlayer from \"react-player\";\nimport * as K from \"../../Constants\";\n/* Do not delete\nconst PlayButton = (props) => {\n    const [audio, loadAudio] = useState(\"\");\n    const storage= db.storage();\n    const storageRef = storage.ref();\n    const audioLoader = info => {\n        storageRef.child('test_audio/test_piano.mp3').getDownloadURL().then( function (url) {\n\n            // Download audio file directly\n            let xhr = new XMLHttpRequest();\n            xhr.responseType = 'blob';\n            xhr.onload = function (event) {\n                let blob = xhr.response;\n                let objURL = URL.createObjectURL(blob)\n            }\n            xhr.open('GET', url);\n            xhr.send();\n            loadAudio(url)\n            console.log(url)\n        }).catch((error) => {\n            //console.log(error);\n            alert(K.unknown_err);\n        })\n      }\n        return (\n            <div>\n                <ReactPlayer\n                    url={loadAudio}\n                    width=\"400px\"\n                    height=\"50px\"\n                    playing={false}\n                    controls={true}\n                    volume={1}\n                    progressInterval={5000}\n                    pip={true}\n                />\n            </div>\n        );\n}\n\nexport default PlayButton;\n*/\n\nexport class PlayButton extends Component {\n    constructor(props) {\n        super(props);\n\n        /* const [audio, loadAudio] = useState(\"\");\n        const storage= db.storage();\n        const storageRef = storage.ref(); */\n    }\n\n    render() {\n        return (\n            <div>\n                <ReactPlayer\n                    url={this.props.audio}\n                    width=\"400px\"\n                    height=\"50px\"\n                    playing={false}\n                    controls={true}\n                    volume={1}\n                    progressInterval={5000}\n                    pip={true}\n                />\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport const SnapshotListManager = React.createContext(null);","import React, {useContext, useState} from \"react\";\nimport db from \"../../Model/base\";\nimport folder_icon from \"../../Images/folder@3x.png\";\nimport {DateToString, TimeStampToString} from \"../GlobalComponent/Date\";\n\n\nimport \"../../App.css\";\nimport \"./UploadSnapshot.css\"\n\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport axios from \"axios\";\nimport {CreateSnapshot, CreateSnapshotRef, GetFileMetadata} from \"../../BackendFunctions\";\nimport {useParams} from \"react-router\";\nimport {SnapshotListManager} from \"./SnapshotListManager\";\n\n// todo: .DS_Store is uploaded.\n// WE WILL USE THIS FUNCTION FOR UPLOAD SNAPSHOT\n\nconst UploadSnapshot = (props) => {\n\n    const delay = ms => new Promise(res => setTimeout(res, ms));\n\n    //const {repo_id} = useParams();\n\n    const {setSnapshotList} = useContext(SnapshotListManager);\n\n    const [folder, setFolder] = useState(null);\n\n    const [showProgressBar, setProgressBar] = useState(false);\n\n    const [upload_file_name, setUploadFileName] = useState(0);\n    const [file_progress, setFileProgress] = useState(0);\n\n    const [progress, setProgress] = useState(0);\n\n\n    console.log(\"repo id is:\" + props.repo_id);\n\n    /*const UploadSnapshotFile = (file, destination) => {\n        console.log(file);\n        setUploadFileName(file.name);\n        const formData = new FormData();\n        formData.append('file', file);\n        axios.post('http://localhost:8000/snapshot_info/upload_file?destination=' + destination, formData, {\n            onUploadProgress: (ProgressEvent) => {\n                let tmp_progress = Math.round(\n                    ProgressEvent.loaded / ProgressEvent.total * 100) + '%';\n                setFileProgress(tmp_progress);\n            }\n        }).then(res => {\n            console.log(res);\n            GetFileMetadata(destination).then(metaData => {\n                updateProgressBar(total, count);\n                count++;\n                let data;\n                console.log(metaData);\n                metaData.map((d, key) => {\n                    if (key === 0) {\n                        data = d;\n                    }\n                })\n                filePaths.push(data.fullPath)  // Add URLs to files array.\n                console.log(\"Pushed: \" + data.fullPath);\n            });\n            console.log('Uploaded');\n        }).catch(err => console.log(err));\n    }*/\n\n    const handleUpload = async (e) => {\n        e.preventDefault();\n        setProgressBar(true);\n        const {snapshotDesc} = e.target.elements;\n\n        let files = null;\n        files = await uploadStorage();\n        uploadRealtime(files, snapshotDesc.value);\n    }\n\n    async function uploadStorage() {\n        // Push all audio files to firestore.\n        let filePaths = [];\n        const files = folder;\n        const total = files.length * 3;\n        const time_stamp = TimeStampToString();\n        let count = 1;\n        for (const i of Object.keys(files)) {  // For each file, push to firestore and wait for this loop to finish.\n            updateProgressBar(total, count);\n            count++;\n            const file = files[i];\n            console.log(file);\n            setUploadFileName(file.name);\n            let destination = 'snapshots/' + props.repo_id + '/' + time_stamp + '/' + file.name;\n            const formData = new FormData();\n            formData.append('file', file);\n            await axios.post('http://localhost:8000/snapshot_info/upload_file?destination=' + destination, formData, {\n                onUploadProgress: (ProgressEvent) => {\n                    let tmp_progress = Math.round(\n                        ProgressEvent.loaded / ProgressEvent.total * 100) + '%';\n                    setFileProgress(tmp_progress);\n                }\n            }).then(async res => {\n                //console.log(res);\n                updateProgressBar(total, count);\n                count++;\n                await GetFileMetadata(destination).then(async metaData => {\n                    updateProgressBar(total, count);\n                    count++;\n                    let data;\n                    console.log(metaData);\n                    metaData.map((d, key) => {\n                        if (key === 0) {\n                            data = d;\n                        }\n                    })\n                    console.log(data);\n                    await filePaths.push(data.name); // Add URLs to files array.\n                    console.log(\"Pushed: \" + data.name);\n                });\n                console.log('Uploaded');\n            }).catch(err => console.log(err));\n        }\n\n        console.log('file paths:', filePaths.toString());\n        return filePaths;\n    }\n\n    function updateProgressBar(total, stage) {\n        setProgress(Math.round(((stage + progress) / total) * 100))\n    }\n\n    function uploadRealtime(files, snapshotDesc) {\n        let datetime = DateToString();\n        /*let snapShotRef = db.database().ref(\"snapshots/\");\n        snapShotRef.push({\n            description: snapshotDesc,\n            files: files.toString(),\n            repo_id: props.repo_id,\n            upload_date: datetime\n        });*/\n        //CreateSnapshot(snapshotDesc, files.toString(), props.repo_id, datetime);\n        CreateSnapshotRef(snapshotDesc, files.toString(), props.repo_id, datetime).then(r => {\n            console.log(r);\n            let tmp_list = [];\n            for (let snapshot in r) {\n                tmp_list.push({...r[snapshot], snap_id: snapshot});\n            }\n            setSnapshotList(tmp_list);\n        });\n    }\n\n    const handleChange = e => {\n        if (e.currentTarget.files) {\n            setFolder(e.currentTarget.files);\n        }\n    };\n\n    const handleTest = (e) => {\n        e.preventDefault();\n        /*CreateSnapshotRef('Hey Yellow', 'JJJJJ', repo_id, '20202020').then(r => {\n            console.log(r);\n            let tmp_list = [];\n            for (let snapshot in r) {\n                tmp_list.push({...r[snapshot], snap_id: snapshot});\n            }\n            setSnapshotList(tmp_list);\n        });*/\n    }\n\n    return (\n        <div>\n            <div className=\"upload_title_1\">\n                <img className=\"snaps_ico\" src={folder_icon} alt=\"snaps_ico\" align=\"left\" width=\"30\" height=\"30\"/>\n                <h2>Take a Snapshot!</h2>\n            </div>\n            {/*<button onClick={handleTest}>Test</button>*/}\n            <p className=\"upload_description\">Choose a project folder that you want to upload</p>\n            <p className=\"upload_description\">You can include anything from Ableton files, FL Studio files, midi's,\n                wav's, mp3's, and more</p>\n            <form onSubmit={handleUpload}>\n                <label>\n                    <input accept=\".wav, .mp3, .als, .flp, .band, .logicx\"\n                           directory=\"\" webkitdirectory=\"\" type=\"file\" onChange={handleChange} multiple/>\n                </label>\n                <br/>\n                <p>Give your snapshot a name</p>\n                <label>\n                    <input\n                        name=\"snapshotDesc\"\n                        required=\"required\"\n                        placeholder=\"Snapshot description\"/>\n                </label>\n                <br/>\n                {showProgressBar\n                    ? <ProgressBar animated now={progress} label={`${progress}% complete`}/>\n                    : <button className=\"upload_button_1\" type=\"submit\">Upload</button>\n                }\n            </form>\n        </div>\n    );\n}\n\nexport default UploadSnapshot;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHuSURBVHgB7dvBTcMwFMbx95yAxK0jZIQKxBkyAgtAM0G7CTBBygSICdoOUMgIHYEbUmls7IpKTUj1cgixod9PQoKol/7j2AqyiQAAAAAAGnDTxWFuBiqmMRtzTe6nQ4ZoxcyFKfXLaxZPKXA/Atk4SaT0zP6a0O9blXqdFtnZigKl6hd6jOPYm3H6dpmvhxSoSqDzfDOi/uLsDLSKZsP8I6EAVQKx4jH5MbAjaebmPgpM/RHzOdSTKDLPFJjKJH3xVJqmDy3vIqYObFdH+hyxiu4pGHZF1frx0Iraa6AdN9fZxzmnsDSuqIo82N4te9coLEnTPOglkLPMTibEPKewJEptJvsXvAVyypJvQovEHF3t/+01UJHx+/JWpUabzL6DFBSC2qtVTAH4XkGm1LNDi9I+ryPoL0AgAQIJEEiAQIJWq1ib2f6/wggSIJAAgQQIJEAgQatVrOt/mIUC72IdQCABAgkQSIBAAgQSIJAAgQQIJEAgAQIJEEiAQAIEEiCQAIEECCRAIAECCRBIgEACBBIgkAC7OwTVERTevmUPuLLbthLIlOWCjpypnQCoBNIUP7gjk3Sk3HevH2qpBHIbu7VW6TFGct9Z63Vav35wU8L2RA7z2H4i2OOSnTBmzsYsNvbpcQOEAAAAAADa+AItMpQco4GR3wAAAABJRU5ErkJggg==\"","import React from 'react';\nimport {Component} from 'react';\nimport {useHistory, useLocation, useParams} from \"react-router\";\nimport './SnapshotInfo.css';\n\nfunction SnapshotInfo(props) {\n    const history = useHistory();\n    const {repo_id, snap_id} = useParams();\n\n    function handleBack() {\n        history.push('/repo/' + repo_id);\n    }\n    return(\n        <div>\n            <button style={{marginTop:'1rem'}} className=\"snapshot_buttons\" onClick={handleBack}>Back to snapshot list</button>\n            {/*<h2>{this.props.username}/{this.props.repo_name}/{this.props.snapshot_desc}</h2>*/}\n            <h2>Snapshot: {props.snapshot_desc}</h2>\n            <h3>{props.datetime}</h3>\n        </div>\n    );\n}\n\nexport default SnapshotInfo;\n/*\nexport class SnapshotInfo extends Component {\n\n    render() {\n        const history = useHistory();\n        const {repo_id, snap_id} = useParams();\n\n        function handleBack() {\n            history.push('/repo/' + repo_id);\n        }\n        return(\n            <div>\n                <button onClick={handleBack}>Back to snapshot list</button>\n                {/!*<h2>{this.props.username}/{this.props.repo_name}/{this.props.snapshot_desc}</h2>*!/}\n                <h2>Snapshot {this.props.snapshot_desc}</h2>\n                <h3>{this.props.datetime}</h3>\n            </div>\n        );\n    }\n}*/\n","import React from 'react';\n\nimport sine_wave from \"../../Images/sine_wave_1.png\";\n\nimport loading_icon from \"../../Images/loader.gif\"\n\nimport \"./LoadingScreen.css\";\n\n\nconst LoadingScreen = (props) => {\n\n    return (\n        <div>\n            <div className=\"load_text\">\n                <h3 className=\"loading_msg\" data-text={props.message}>\n                    <img className=\"loading_icon\" src={loading_icon} alt=\"Loading...\" height=\"35\" width=\"35\"/>\n                    {props.message}\n                </h3>\n            </div>\n        </div>\n\n    );\n}\n\nexport default  LoadingScreen;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADGSURBVHgB7ZTBDYMwDEXtwACMwAiV2KeIDcoGdINuQOkEDFLUjsAILIDdkAaJAxRHUE55UuIcnNjfig3gWQGHLak4BaCbPkYLfh2iuj/PmIMj6muo+PH4QMRMl+TRl+CIVdDzYJs0wDmnU8lxoOi1ksSUVudeNClWSuL9zrAF4ozNRRGxLTmEwgvQZGGtTS3xtRUxakUKthDORN6VYxUs/SJXppX4uwIfwAfYztgHnV7Rnp08DkajgIlzh0kpebwLiK/gkfABxQs9UDKyiOoAAAAASUVORK5CYII=\"","import React, {Component} from \"react\";\nimport ReactPlayer from \"react-player\";\nimport JSZip from 'jszip';\nimport JSZipUtils from 'jszip-utils';\nimport saveAs from 'file-saver';\n\nimport \"./FileList.css\"\n\nimport audio_icon from \"../../Images/music_note_24px_outlined.png\";\nimport folder_icon from \"../../Images/folder.png\";\n\nexport class FileList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            audio_objs: this.props.audio_objs,\n            proj_objs: this.props.proj_objs,\n        }\n\n        console.log(this.state.audio_objs);\n        console.log(this.state.proj_objs);\n    }\n\n    handleDownloadAll(e) {\n        let objs = [];\n        this.state.audio_objs.forEach(obj => {\n            objs.push(obj);\n        });\n        this.props.proj_objs.forEach(obj => {\n            objs.push(obj)\n        });\n        let zip = new JSZip();\n        let count = 0;\n        let zipFilename = this.props.snapshot_name;\n        objs.forEach( (obj) => {\n            let filename = obj.name;\n            console.log(obj.name);\n            // loading a file and add it in a zip file\n            JSZipUtils.getBinaryContent(obj.url, function (err, data) {\n                if (err) {\n                    throw err; // or handle the error\n                }\n                zip.file(filename, data, { binary: true });\n                count++;\n                if (count === objs.length) {\n                    zip.generateAsync({ type: 'blob' }).then(function (content) {\n                        saveAs(content, zipFilename);\n                        console.log(\"done\");\n                    });\n                }\n            });\n        });\n    }\n\n    render() {\n\n        const audioFileElement = this.state.audio_objs.map(obj =>\n            <tr key={ obj.id }>\n                <td>\n                    <img className=\"audio_ico\" src={ audio_icon } alt=\"audio_icon\" height=\"20\" width=\"20\"/>\n                    { obj.name }\n                </td>\n                <td>\n                    <ReactPlayer\n                        url={ obj.url }\n                        width=\"400px\"\n                        height=\"50px\"\n                        playing={ false }\n                        controls={ true }\n                        volume={0.5 }\n                        progressInterval={ 5000 }\n                        pip={ true }\n                    />\n                </td>\n            </tr>\n        );\n\n        const projectFileElement = this.state.proj_objs.map(obj =>\n            <tr key={ obj.id }>\n                <td style={ {width: '200px', textAlign: 'left'} }>\n                    <img className=\"file_ico\" src={ folder_icon } alt=\"file_icon\" height=\"20\" width=\"20\"/>\n                    { obj.name }\n                </td>\n                <td>\n                    <button className=\"download_file_btn\">\n                        <i className=\"fa fa-download\"/>\n                        <a href={obj.url} download={ obj.name }> Download File</a>\n                    </button>\n                </td>\n            </tr>\n        );\n\n        return (\n            <div>\n                <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"/>\n                <button className=\"download_all_btn\" onClick={ () => this.handleDownloadAll()}>\n                    <i className=\"fa fa-download\"/>\n                     Download All\n                </button>\n                <table>\n                    <thead>\n\n                    </thead>\n                    <tbody>\n                    { audioFileElement }\n                    { projectFileElement }\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC7SURBVHgB7ZU7CsJAFEWvnyKWWli4BVu3kNZSt6FNFmHlBlyArW7DRtAVWFhaaul9zBNEzHzCpAiZA4eBSbiXzAsMkHDQQTibkv3i32YXNdP8gj6qU/i8lGbQggLXXzSkSzqhGT0hYoGErzX4wwwRC+YafqV7OqB5aIltBlNdD/RFH/SIQGwFz59VyBCx4K7rAmYeEp7r3gWe2O4DCV3BnP038kVbmCNz0rM8k3M/0xEda/CN7nzDE168AV6dFj+xdpXeAAAAAElFTkSuQmCC\"","import React, {Component, useEffect, useState} from \"react\";\nimport ReactPlayer from \"react-player\";\nimport LoadingScreen from \"../LoadingComponent/LoadingScreen\";\n\nimport audio_icon from \"../../Images/music_note_24px_outlined.png\";\nimport folder_icon from \"../../Images/folder.png\";\nimport {FileList} from \"./FileList\";\nimport {GetFileMetadata, GetFileUrl, GetSnapshotInfo} from \"../../BackendFunctions\";\nimport {useParams} from \"react-router\";\nimport SnapshotInfo from \"./SnapshotInfo\";\n\n\nfunction LoadingFiles(props) {\n\n    const [loadComplete, setLoadComplete] = useState(0);\n    const {repo_id, snap_id} = useParams();\n    const [snapshot, setSnapshot] = useState(0);\n    const [audio_objs, setAudioObjs] = useState(0);\n    const [proj_objs, setProjObjs] = useState(0);\n\n    function parseFileString(paths) {\n        let audio_paths = [];\n        let proj_paths = [];\n        //console.log(file_paths);\n        let file_paths;\n        if (paths) {\n            file_paths = paths.split(',');\n        }\n        if (file_paths) {\n            file_paths.forEach(file_path => {\n                if (file_path.indexOf('.mp3') !== -1 || file_path.indexOf('.wav') !== -1) {\n                    audio_paths.push(file_path);\n                } else {\n                    proj_paths.push(file_path);\n                }\n            });\n        }\n        return [audio_paths, proj_paths]\n    }\n\n    useEffect(() => {\n        if (!snapshot) {\n            GetSnapshotInfo(snap_id).then(snap_snapshot => {\n                setSnapshot(snap_snapshot);\n                const file_paths = parseFileString(snap_snapshot.files);\n\n                const audio_paths = file_paths[0];\n                const proj_paths = file_paths[1];\n                let tmp_audio_objs = [];\n                let tmp_proj_objs = [];\n                let id = 0;\n                audio_paths.forEach(path => {\n                    console.log('fetching', path);\n                    GetFileUrl(path).then(u => {\n                        let url = '';\n                        u.map((link, key) => {\n                            url = link;\n                        });\n                        let obj = {\n                            id: id,\n                            name: getName(path),\n                            url: url\n                        }\n                        tmp_audio_objs.push(obj);\n                        id++;\n                    });\n                });\n                id = 0;\n                proj_paths.forEach(path => {\n                    console.log('fetching', path);\n                    GetFileUrl(path).then(u => {\n                        let url = '';\n                        u.map((link, key) => {\n                            url = link;\n                        });\n                        let obj = {\n                            id: id,\n                            name: getName(path),\n                            url: url\n                        }\n                        tmp_proj_objs.push(obj);\n                        id++;\n                    });\n                });\n                setAudioObjs(tmp_audio_objs);\n                setProjObjs(tmp_proj_objs);\n                setLoadComplete(true);\n            })\n        }\n    }, [audio_objs, proj_objs]);\n\n    function getName(path) {\n        const p = path.split('/');\n        return p.slice(-1)[0];\n    }\n\n    return (\n        <div>\n            {!loadComplete\n                ? <LoadingScreen message=\"Getting your files!\"/>\n                : <FileList\n                    audio_objs={audio_objs}\n                    proj_objs={proj_objs}\n                    snapshot_name={props.snapshot_name}/>}\n        </div>\n    );\n}\n\nexport default LoadingFiles;\n\n\n/*export class LoadingFiles extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoading: true,\n            audio_objs: null,\n            proj_objs: null,\n        };\n\n        this.storageRef = db.storage().ref();\n    }\n\n    componentDidMount() {\n        const file_paths = this.parseFileString();\n\n        const audio_paths = file_paths[0];\n        const proj_paths = file_paths[1];\n\n        this.getObjs(audio_paths, proj_paths).then((objs) => {\n            setTimeout(() => {\n                this.setState({\n                    isLoading: false,\n                    audio_objs: objs[0],\n                    proj_objs: objs[1]\n                });\n            }, 5000);\n        });\n    }\n\n    parseFileString() {\n        let audio_paths = [];\n        let proj_paths = [];\n        let file_paths;\n        if (this.props.snapshot_paths) {\n            file_paths = this.props.snapshot_paths.split(',');\n        }\n        console.log(file_paths);\n        if (file_paths) {\n            file_paths.forEach(file_path => {\n                if (file_path.indexOf('.mp3') !== -1 || file_path.indexOf('.wav') !== -1) {\n                    audio_paths.push(file_path);\n                } else {\n                    proj_paths.push(file_path);\n                }\n            });\n        }\n        return [audio_paths, proj_paths]\n    }\n\n    async getObjs(audio_paths, proj_paths) {\n        let audio_objs = [];\n        let proj_objs = [];\n        let id = 0;\n        try {\n            await audio_paths.forEach(path => {\n                this.storageRef\n                    .child(path)\n                    .getDownloadURL()\n                    .then((url) => {\n                        let obj = {\n                            id: id,\n                            name: this.getName(path),\n                            url: url\n                        }\n                        audio_objs.push(obj);\n                        id++;\n                    });\n                GetFileUrl(path).then(u => {\n                    let url='';\n                    u.map((link, key) => {\n                        url = link;\n                    });\n                    let obj = {\n                        id: id,\n                        name: this.getName(path),\n                        url: url\n                    }\n                    audio_objs.push(obj);\n                    id++;\n                });\n            });\n            id = 0;\n            await proj_paths.forEach(path => {\n                this.storageRef\n                    .child(path)\n                    .getDownloadURL()\n                    .then((url) => {\n                        let obj = {\n                            id: id,\n                            name: this.getName(path),\n                            url: url\n                        }\n                        proj_objs.push(obj);\n                        id++;\n                    });\n                GetFileUrl(path).then(u => {\n                    let url='';\n                    u.map((link, key) => {\n                        url = link;\n                    });\n                    let obj = {\n                        id: id,\n                        name: this.getName(path),\n                        url: url\n                    }\n                    proj_objs.push(obj);\n                    id++;\n                });\n            });\n        } catch (error) {\n            console.log(error);\n        }\n        return [audio_objs, proj_objs];\n    }\n\n\n    getName(path) {\n        const p = path.split('/');\n        return p.slice(-1)[0];\n    }\n\n    render() {\n\n        const {isLoading, audio_objs, proj_objs} = this.state;\n        console.log(this.props.snapshot_paths);\n\n        console.log(isLoading);\n        return (\n            isLoading\n                ? <LoadingScreen message=\"Getting your files!\"/>\n                : <FileList\n                    audio_objs={audio_objs}\n                    proj_objs={proj_objs}\n                    snapshot_name={this.props.snapshot_name}/>\n        );\n    }\n}*/\n","import React, {Component, useEffect, useState} from \"react\";\nimport \"../../App.css\";\n\nimport * as K from '../../Constants';\nimport * as FirebaseHandler from \"../../Model/FirebaseHandler.js\";\nimport {PlayButton} from \"../GlobalComponent/PlayButton\";\n\nimport UploadSnapshot from \"../RepositoryPageComponents/UploadSnapshot\";\n\n\nimport SnapshotInfo from \"../SnapshotComponents/SnapshotInfo\";\n\nimport {useHistory, useLocation, useParams} from 'react-router';\nimport LoadingFiles from \"../SnapshotComponents/LoadingFiles\";\nimport {DeleteSnapshot, GetRepoInfo, GetSnapshotInfo, GetUserRef, UpdateSnapshotInfo} from \"../../BackendFunctions\";\nimport Popup from \"reactjs-popup\";\nimport './Snapshot.css';\n\nfunction Snapshot(props) {\n    const history = useHistory();\n    const {repo_id, snap_id} = useParams();\n    const [snapshot, setSnapshot] = useState(0);\n    const [repo, setRepo] = useState(0);\n    const [owner, setOwner] = useState(0);\n\n    useEffect(() => {\n        console.log('Listening to snapshot info snap_id:', snap_id);\n        if (!snapshot) {\n            GetSnapshotInfo(snap_id).then(snap_snapshot => {\n                setSnapshot(snap_snapshot);\n            })\n        }\n        /*if (!repo) {\n            GetRepoInfo(repo_id).then(repo_snapshot => {\n                repo_snapshot = {...repo_snapshot, repo_id: repo_id};\n                setRepo(repo_snapshot);\n                if (repo_snapshot.user_id) {\n                    GetUserRef(repo_snapshot.user_id).then(user_snapshot => {\n                        setOwner(user_snapshot);\n                    })\n                }\n            })\n        }*/\n        return () => {\n            console.log('Stop listening to snapshot info snap_id:', snap_id);\n        }\n    }, [snapshot]);\n\n    const handleSnapshotUpdate = (event) => {\n        event.preventDefault();\n        const new_description = document.getElementById('new_description').value;\n        if (new_description && new_description !== '') {\n            UpdateSnapshotInfo(snap_id, new_description);\n            let tmp_snapshot = {...snapshot, description: new_description};\n            setSnapshot(tmp_snapshot);\n        }\n    }\n\n    const handleDelete = (event) => {\n        event.preventDefault();\n        //DeleteSnapshot(snap_id);\n        DeleteSnapshot(snap_id, repo_id).then(r => {\n            console.log(r);\n            history.push('/repo/' + repo_id);\n        });\n        //history.push('/repo/' + repo_id);\n    }\n\n    return (\n        <div style={{marginLeft:'3rem'}}>\n            <SnapshotInfo\n                /*username={owner.username}\n                repo_name={repo.name}*/\n                snapshot_desc={snapshot.description}\n                datetime={snapshot.upload_date}\n            />\n\n            <Popup id={'update_snapshot'} trigger={<button style={{marginLeft:'0rem'}} id={'snapshot_update_trigger'}>Snapshot Settings</button>}\n                   position={'right center'}>\n                <div className=\"snapshot_popup1\">\n                    <form method=\"post\" onSubmit={handleSnapshotUpdate}>\n                        <label>\n                            <h3>Update Description</h3>\n                            <textarea className=\"edit_snapshot_input\" name=\"Description\" type=\"text\" id=\"new_description\"\n                                    placeholder=\"Description\"/>\n                        </label>\n                        <input className=\"update_button\" type=\"submit\" value=\"Update\"/>\n                    </form>\n                    <button className=\"update_button1\" onClick={handleDelete}>Delete</button>\n                </div>\n            </Popup>\n\n            {<LoadingFiles\n                snapshot_paths={snapshot.files}\n                snapshot_name={snapshot.description}\n            />}\n        </div>\n    );\n}\n\nexport default Snapshot;\n/**\n *\n * @param history\n * @returns {JSX.Element}\n * @constructor\n */\n/*\nconst Snapshot = ({history}) => {\n\n    const location = useLocation();\n\n    console.log(location.state.snapshot);\n    console.log(location.state.repo_name);\n\n    return (\n        <div>\n        <Navbar/>\n            <SnapshotInfo\n                username={location.state.username}\n                repo_name = {location.state.repo_name}\n                snapshot_desc = {location.state.snapshot.description}\n                datetime = {location.state.snapshot.upload_date}\n            />\n\n            <LoadingFiles\n                snapshot_paths={location.state.snapshot.files}\n                snapshot_name={location.state.snapshot.description}\n            />\n        </div>\n    );\n};\n\nexport default Snapshot;*/\n","import React, {Component, useState, useEffect} from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport DropdownButton from 'react-bootstrap/DropdownButton'\nimport \"../../App.css\";\nimport db from \"../../Model/base\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from 'axios';\n//import Modal from \"react-bootstrap/Modal\";\n//import logo from \"../../Images/wavBase_logo.png\";\nimport {ProfileInfo} from \"../HomePageComponents/ProfileInfo\";\nimport \"./Profile.css\";\nimport sine_wave_1 from \"../../Images/sine_wave_1.png\";\nimport '../NavBarComponents/NavBar.css';\n//import NavBar from '../NavBarComponents/NavBar.js';\nimport Popup from \"reactjs-popup\";\nimport {useHistory} from \"react-router\";\nimport {\n    GetProfileImageUrl,\n    GetUserRef,\n    UpdateUserInfo,\n    UpdateUserPassword\n} from \"../../BackendFunctions\";\n\n\nfunction Profile(props) {\n\n    /*const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    let uid = db.auth().currentUser.uid;\n    let userRef = db.database().ref('users/' + uid);\n    let username, profile_picture_path, user_email;\n    userRef.on('value', (snapshot) => {\n        username = snapshot.val().username;\n        profile_picture_path = snapshot.val().profile_picture;\n        user_email = snapshot.val().email;\n    })\n\n    let storage = db.storage();\n    let storageRef = storage.ref();\n    storageRef.child(profile_picture_path).getDownloadURL().then(function (url) {\n        let img = document.getElementById('profile_picture');\n        let img2 = document.getElementById('profile_picture2');\n        img.src = url;\n        img2.src = url;\n    })\n\n\n    const redirectHome = () => {\n        history.push(\"/\");\n    }\n\n    // considering home page is repo page\n    const redirectRepo = () => {\n        history.push(\"/\");\n    }\n\n    const handleUploadPicture = (event) => {\n        event.preventDefault();\n        let extension = document.getElementById('picture').value.split('.').pop();\n        let picture_path = 'defaults/' + uid + '.' + extension;\n        let picture_storage = storageRef.child(picture_path);\n        let picture = document.getElementById('picture').files[0];\n        console.log(picture);\n        picture_storage.put(picture).then(function (snapshot) {\n            console.log('New Profile Picture Uploaded');\n        });\n        userRef.update({\n            profile_picture: picture_path\n        });\n\n    }\n\n    const handleInfoUpdate = (event) => {\n        event.preventDefault();\n        let new_username = document.getElementById('new_username').value;\n        let new_bio = document.getElementById('new_bio').value;\n        if (new_username !== \"\") {\n            userRef.update({\n                username: new_username\n            });\n            console.log('New Username: ' + new_username);\n        }\n        if (new_bio !== \"\") {\n            userRef.update({\n                first_name: new_bio.split(' ')[0],\n                last_name: new_bio.split(' ')[1]\n            });\n            console.log('New Bio: ' + new_bio);\n        }\n        document.getElementById('new_username').value = \"\";\n        document.getElementById('new_bio').value = \"\";\n    }\n\n    const resetPassword = () => {\n        db.auth().sendPasswordResetEmail(user_email).then(function () {\n            console.log(\"Password Reset Email sent to:\" + user_email);\n            alert(\"Password Reset Email sent to: \" + user_email);\n        }).catch(function (error) {\n            console.log(\"Password Reset Email not sent successfully\");\n        });\n    }*/\n    const history = useHistory();\n\n    const [current_user, setUser] = useState(props.user || []);\n    const [progress, setProgress] = useState(0);\n\n    const uid = db.auth().currentUser.uid;\n\n    const UpdateProfileImage = (picture_formData) => {\n        axios.post('http://localhost:8000/user_info/update_profile_image', picture_formData, {\n            onUploadProgress: (ProgressEvent) => {\n                let tmp_progress = Math.round(\n                    ProgressEvent.loaded / ProgressEvent.total * 100) + '%';\n                setProgress(tmp_progress);\n            }\n        }).then(res => {\n            console.log(res);\n        }).catch(err => console.log(err));\n    }\n\n    const handleUploadPicture = (event) => {\n        event.preventDefault();\n        if (document.getElementById('picture').files.length !== 0) {\n            let picture_object = document.getElementById('picture').files[0];\n            let extension = document.getElementById('picture').value.split('.').pop();\n            let picture_path = 'defaults/' + uid + '.' + extension;\n            let picture = new FormData();\n            picture.append('file', picture_object, uid + '.' + extension);\n            console.log(picture);\n            UpdateProfileImage(picture);\n            UpdateUserInfo(uid, '', '', picture_path);\n            let reader = new  FileReader();\n            reader.onload = function () {\n                let img = document.getElementById('profile_picture2');\n                if (img != null) {\n                    img.src = reader.result;\n                }\n                let img2 = document.getElementById(uid+'profile_picture');\n                if (img2 != null) {\n                    img2.src = reader.result;\n                }\n                localStorage.setItem(picture_path, reader.result);\n            }\n            reader.readAsDataURL(picture_object);\n        }\n    }\n\n    const handleInfoUpdate = (event) => {\n        event.preventDefault();\n        let new_username = document.getElementById('new_username').value;\n        let new_bio = document.getElementById('new_bio').value;\n        UpdateUserInfo(uid, new_username, new_bio, '');\n        //re_render(re_render_index + 1);\n        if (new_username !== \"\") {\n            /*let tmp_user = user;\n            tmp_user = {...tmp_user, username: new_username};\n            setUser(tmp_user);*/\n            let profile_username = document.getElementById('username');\n            if (profile_username != null) {\n                profile_username.innerText = new_username;\n            }\n            console.log('New Username: ' + new_username);\n            localStorage.setItem('username', new_username);\n        }\n        if (new_bio !== \"\") {\n            /*let tmp_user = user;\n            tmp_user = {...tmp_user, biography: new_bio};\n            setUser(tmp_user);*/\n            let bio_info = document.getElementById('bio');\n            if (bio_info != null) {\n                bio_info.innerText = new_bio;\n            }\n            console.log('New Bio: ' + new_bio);\n        }\n        document.getElementById('new_username').value = \"\";\n        document.getElementById('new_bio').value = \"\";\n    }\n\n    const resetPassword = (event) => {\n        event.preventDefault();\n        let password = document.getElementById('new_password').value;\n        let conf_password = document.getElementById('conf_password').value;\n        if (password === conf_password) {\n            UpdateUserPassword(uid, password);\n        } else {\n            alert('Confirmation Password Does Not Match');\n        }\n        document.getElementById('new_password').value = '';\n        document.getElementById('conf_password').value = '';\n    }\n\n    useEffect(() => {\n        console.log(\"listen to profile\");\n        GetUserRef(uid).then(user_snapshot => {\n            setUser(user_snapshot);\n            let profile_username = document.getElementById('display_username');\n            if (profile_username != null) {\n                profile_username.innerText = user_snapshot.username;\n            }\n\n            let bio_info = document.getElementById('bio');\n            if (bio_info != null) {\n                let user_bio = 'PROFESSIONALISM';\n                if (user_snapshot.biography !== '') {\n                    user_bio = user_snapshot.biography\n                }\n                ;\n                bio_info.innerText = user_bio;\n            }\n\n            let image_path = \"defaults/test_user.png\";\n            if (user_snapshot.profile_picture !== '') {\n                image_path = user_snapshot.profile_picture;\n            }\n            let image_url = '';\n            if (localStorage.getItem(image_path)) {\n                image_url = localStorage.getItem(image_path);\n            } else {\n                GetProfileImageUrl(image_path).then(url => {\n                    url.map((link, key) => {\n                        image_url = link;\n                    })\n                    localStorage.setItem(image_path, image_url);\n                });\n            }\n            let img = document.getElementById('profile_avatar');\n            if (img != null) {\n                img.src = image_url;\n            }\n            let img2 = document.getElementById('profile_image');\n            if (img2 != null) {\n                img2.src = image_url;\n            }\n\n            console.log('re-render profile page');\n            //re_render(false);\n        })\n        return () => {\n            console.log('stop listen to profile');\n        }\n    }, [props.user]);\n\n    return (\n        <div>\n            <link rel=\"stylesheet\"\n                  href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"/>\n            <div className=\"profile_div\">\n                <ProfileInfo uid={uid}/>\n\n                <div id=\"profile_row_2\">\n\n                    <form method=\"post\" onSubmit={handleInfoUpdate}>\n                        <label>\n                            <h3>Update Username</h3>\n\n                            <input className=\"edit_input_1\" name=\"username\" type=\"text\" id=\"new_username\"\n                                   placeholder=\"Username\"/>\n                        </label>\n                        <br/>\n                        <label>\n                            <h3>Update Bio</h3>\n                            <textarea className=\"edit_input_2\" name=\"bio\" type=\"text\" id=\"new_bio\"\n                                      placeholder=\"Bio Information\"/>\n                        </label>\n                        <input className=\"update_button\" type=\"submit\" value=\"Update\"/>\n                    </form>\n                    <form method=\"post\" onSubmit={resetPassword}>\n                        <label>\n                            <h3>Password</h3>\n                            <input className=\"edit_input_1\" name=\"password\" type=\"text\" id=\"new_password\" placeholder=\"Enter your new password\"/>\n                        </label>\n                        <br/>\n                        <label>\n                            <br/>\n                            <input className=\"edit_input_1\" name=\"confirmation_password\" type=\"text\" id=\"conf_password\"\n                                   placeholder=\"Re-enter your new password\"/>\n                        </label>\n                        <br/>\n                        <input className=\"update_button\" type=\"submit\" value=\"Update\"/>\n                    </form>\n                    <div style={{marginBottom: \"2rem\"}} className=\"line\"/>\n                    <div className=\"profile_row_2_buttons\">\n                        <Popup trigger={<Button className=\"update_button\" style={{width:'100%'}}>Edit Profile Picture</Button>} position={'right center'}>\n                            <form method=\"post\" onSubmit={handleUploadPicture}>\n                                <input name=\"file\" type=\"file\" id=\"picture\" accept=\"image/*\"/>\n                                <input name=\"token\" type=\"hidden\"/>\n                                <input type=\"submit\" value=\"submit\"/>\n                            </form>\n                            {(progress) ? <p>Upload Progress: {progress}</p> : <></>}\n                        </Popup>\n\n                        {/*<button className=\"edit_profile_button 1\" onClick={resetPassword}>Reset Password</button>*/}\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n    );\n}\n\nexport default Profile;","import React, {useEffect, useState} from \"react\";\nimport {Link, NavLink} from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport db from \"../../Model/base\";\nimport './ResultsInterface.css';\n\nfunction ResultsInterface(props) {\n\n    if (document.getElementById(\"repoOption\") != null && document.getElementById(\"tagOption\") != null &&\n        document.getElementById(\"userOption\") != null){\n\n        document.getElementById(\"repoOption\").className = 'searchOption';\n        document.getElementById(\"tagOption\").className = 'searchOption';\n        document.getElementById(\"userOption\").className = 'searchOption';\n        if (window.location.href.endsWith('/repositories'))\n            document.getElementById(\"repoOption\").className += \" active\";\n        else if (window.location.href.endsWith('/search_result'))\n            document.getElementById(\"userOption\").className += \" active\";\n        else if (window.location.href.endsWith('/tags'))\n            document.getElementById(\"tagOption\").className += \" active\";\n    }\n    return (\n        <div>\n            {/*<DropdownButton id=\"dropdown-basic-button\" title=\"Options\">*/}\n            {/*    <Dropdown.Item as=\"button\"><Link to='/search_result'>Users</Link></Dropdown.Item>*/}\n            {/*    <Dropdown.Item as=\"button\"><Link*/}\n            {/*        to='/search_result/repositories'>Repositories</Link></Dropdown.Item>*/}\n            {/*    <Dropdown.Item as=\"button\"><Link to='/search_result/tags'>Tags</Link></Dropdown.Item>*/}\n            {/*</DropdownButton>*/}\n\n            <table id=\"sideNav\">\n                <tbody>\n                <tr><Link to='/search_result/repositories' id=\"repoOption\" className='searchOption'>Repositories</Link></tr>\n                <br/>\n                <tr><Link to='/search_result' id=\"userOption\" className='searchOption'>Users</Link></tr>\n                <br/>\n                <tr><Link to='/search_result/tags' id=\"tagOption\" className='searchOption'>Tags</Link></tr>\n                </tbody>\n                </table>\n        </div>\n    );\n}\n\nexport default ResultsInterface;","import React, {useEffect, useState, useHistory} from \"react\";\n//import db from \"../../Database_config\";\nimport {FindUsers} from \"../../BackendFunctions\";\nimport UserDisplayComponent from \"../SearchResultsComponents/UserDisplayComponent\";\nimport db from \"../../Model/base\";\nimport \"./SearchResult.css\";\n\nfunction UserSearchResult(props) {\n\n    let search_input = document.getElementById('search_input').value;\n    const [users, setUsers] = useState(0);\n\n    const uid = db.auth().currentUser.uid;\n    //console.log('search', search_input);\n\n\n    useEffect(() => {\n        console.log('listen to user list');\n        if (!users) {\n            FindUsers(uid).then(users_snapshot => {\n                console.log(users_snapshot);\n                let users_list = [];\n                for (let user in users_snapshot) {\n                    //console.log(1);\n                    users_list.push({...users_snapshot[user], key: user});\n                }\n                setUsers(users_list);\n            });\n        }\n        return () => {\n            console.log('stop listen to user list');\n        }\n    }, [users]);\n\n    /*{users && users.map((user, key) => (\n        (user.val().username.toLowerCase().includes(search_input.toLowerCase())) ? <button>{user.val().username}</button> : <></>\n    ))}*/\n\n    //<button id={key}><Link to={'/user/' + user.key}>{user.username}</Link></button>\n    /*if (users) {\n        users.map((user, key) => {\n           console.log(user.username);\n        } )\n    }*/\n    return (\n        <div className=\"searchResult\">\n            <h2 className=\"searchTitle\">User Search Result</h2>\n            {users && users.map((user, key) => (\n                (user.username && user.username.toLowerCase().includes(search_input.toLowerCase()) && (user.key !== uid)) ?\n                    <UserDisplayComponent id={key} uid={user.key} username={user.username}/> : <></>\n            ))}\n        </div>\n    );\n}\n\nexport default UserSearchResult;","import React, {useEffect, useState} from \"react\";\n//import db from \"../../Database_config\";\n//import {RepoDisplayComponent} from \"../SearchResultsComponents(zhifei)/RepoDisplayComponent\";\nimport {FindRepos} from \"../../BackendFunctions\";\nimport db from \"../../Model/base\";\nimport {useHistory} from \"react-router\";\nimport \"./SearchResult.css\"\n\nfunction RepoSearchResult(props) {\n\n    const history = useHistory();\n    let search_input = document.getElementById('search_input').value;\n\n    const uid = db.auth().currentUser.uid;\n    const [repos, setRepos] = useState(0);\n\n\n\n    useEffect(() => {\n        console.log('listen to repo list');\n        if (!repos) {\n            FindRepos(uid)\n                .then(repos_snapshot => {\n                    let repos_list = [];\n                    for (let repo in repos_snapshot) {\n                        repos_list.push({...repos_snapshot[repo], repo_id: repo});\n                    }\n                    setRepos(repos_list);\n                });\n        }\n        return () => {\n            console.log('stop listen to repo list');\n        }\n    }, [repos]);\n\n    const redirectToRepo = (curr_repo) => {\n        history.push({\n            pathname: \"/repo/\" + curr_repo.repo_id,\n            state: {  // Pass as props for Repository page.\n                repo: curr_repo\n            }\n        });\n    }\n\n    let repoElement = [];\n    if (repos) {\n        repoElement = repos.map((repo, key) => (\n            (repo.name.toLowerCase().includes(search_input.toLowerCase())) && ((repo.user_id === uid) || (repo.is_private !== 'T' && repo.user_id !== uid)) ?\n                <tr style={ {width: '100%'}} key={ repo.repo_id }>\n                    <td style={ {width: '100%'}} style={ {textAlign: 'left'} }>\n                        <button style={ {width: '100%'}} className=\"repo_button\" name=\"repo_links\"\n                                onClick={ () => redirectToRepo(repo) }>\n                            { repo.name }\n                        </button>\n                    </td>\n                </tr> : <></>\n        ))\n    }\n\n    return (\n        <div className=\"searchResult\">\n            <h2 className=\"searchTitle\">Repo Search Result</h2>\n            <ul className=\"repo_list_div\" style={ {width: '90%'}}>\n                {/*{repos && repos.map((repo, key) => (\n                    (repo.name.toLowerCase().includes(search_input.toLowerCase())) && ((repo.user_id === uid) || (repo.is_private !== 'T' && repo.user_id !== uid)) ?\n                        <RepoDisplayComponent key={key} id={repo.repo_id} name={repo.name}/> : <></>\n                ))}*/}\n                {repoElement}\n            </ul>\n        </div>\n    );\n}\n\nexport default RepoSearchResult;","/**\n * @param {string} tags\n */\nexport function ParseTags(tags) {\n    let tag = [];\n    if (tags != null) {\n        tag = tags.split(\",\");\n    }\n    return tag;\n}","import React, {useEffect, useState} from \"react\";\n//import db from \"../../Database_config\";\nimport {FindRepos} from \"../../BackendFunctions\";\n//import {RepoDisplayComponent} from \"../SearchResultsComponents(zhifei)/RepoDisplayComponent\";\nimport {ParseTags} from \"../GlobalComponent/ParseTags\";\nimport db from \"../../Model/base\";\nimport {useHistory} from \"react-router\";\n\n\nfunction TagsSearchResult(props) {\n    let search_input = document.getElementById('search_input').value;\n\n    const history = useHistory();\n    const uid = db.auth().currentUser.uid;\n    const [repos, setRepos] = useState(0);\n\n    useEffect(() => {\n        console.log('listen to tags list');\n        if (!repos) {\n            FindRepos(uid)\n                .then(repos_snapshot => {\n                    let repos_list = [];\n                    for (let repo in repos_snapshot) {\n                        repos_list.push({...repos_snapshot[repo], repo_id: repo});\n                    }\n                    setRepos(repos_list);\n                });\n        }\n        return () => {\n            console.log('stop listen to tags list');\n        }\n    }, [repos]);\n\n    const redirectToRepo = (curr_repo) => {\n        history.push({\n            pathname: \"/repo/\" + curr_repo.repo_id,\n            state: {  // Pass as props for Repository page.\n                repo: curr_repo\n            }\n        });\n    }\n\n    let repoElement = [];\n    if (repos) {\n        repoElement = repos.map((repo, key) => (\n            (ParseTags(repo.tags).includes(search_input)) && ((repo.user_id === uid) || (repo.is_private !== 'T' && repo.user_id !== uid)) ?\n                <tr key={ repo.repo_id }>\n                    <td style={ {width: '200px', textAlign: 'left'} }>\n                        <button className=\"repo_button\" name=\"repo_links\"\n                                onClick={ () => redirectToRepo(repo) }>\n                            { repo.name }\n                        </button>\n                    </td>\n                </tr> : <></>\n        ))\n    }\n\n    return (\n        <div className=\"searchResult\">\n            <h2 className=\"searchTitle\">Tags Search Result</h2>\n            <ul className=\"repo_list_div\" style={ {width: '90%'}}>\n                {/*{repos && repos.map((repo, key) => (\n                    (ParseTags(repo.tags).includes(search_input)) && ((repo.user_id === uid) || (repo.is_private !== 'T' && repo.user_id !== uid)) ?\n                        <RepoDisplayComponent key={key} id={repo.repo_id} name={repo.name}/> : <></>\n                ))}*/}\n                {repoElement}\n            </ul>\n        </div>\n\n    );\n}\nexport default TagsSearchResult;\n","export default __webpack_public_path__ + \"static/media/default_repo_thumbnail.be811a64.png\";","import React from \"react\";\n\nfunction CommentsDisplayComponent(props) {\n    const comments = props.comments;\n\n    let comment_elements = [];\n    if (comments) {\n        comment_elements = comments.map((comment, key) =>\n            <div style={{padding: '10px'}} className={'comment #' + key}>\n                <h3>{comment.username} comments:</h3>\n                <p>{comment.text}</p>\n            </div>\n        )\n    }\n    return (\n        <div>\n            {comment_elements}\n        </div>\n    );\n}\n\nexport default CommentsDisplayComponent;","import React, {useEffect, useState} from \"react\";\nimport {AddId, ParseIds} from \"../GlobalComponent/ParseId\";\nimport {FindUsers} from \"../../BackendFunctions\";\n\nfunction LikedListDisplayComponent(props) {\n    const liked = props.likes;\n    let individual_user_id = [];\n    if (props.likes) {\n        individual_user_id = ParseIds(liked);\n    }\n\n    const [username_list, setUsernameList] = useState(0);\n\n\n    useEffect(() => {\n        console.log('listen to liked list');\n        if (individual_user_id !== []) {\n            let tmp_username_list = '';\n            FindUsers('').then(users => {\n               individual_user_id.forEach(id => {\n                   tmp_username_list = AddId(tmp_username_list, users[id].username);\n                   console.log(users[id].username, \"liked this repo\");\n               })\n                setUsernameList(tmp_username_list);\n               //console.log(tmp_username_list);\n            });\n        }\n        return () => {\n            console.log('stop listen to liked list');\n        }\n    }, [props.likes]);\n\n    return (\n        <div>\n            <p>Liked by {username_list}</p>\n        </div>\n    );\n}\n\nexport default LikedListDisplayComponent","import React from 'react';\nimport { FacebookShareButton, TwitterShareButton} from 'react-share';\nimport { SocialIcon } from 'react-social-icons';\nimport './ShareButtons.css';\n\nconst ShareButtons = (props) => {\n\n    const handleShare = (event) => {\n        event.preventDefault();\n        const el = document.createElement('textarea');\n        el.value = window.location.href;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        alert(window.location.href + ' copied to your clipboard');\n    }\n\n    return(\n        <div>\n            <div className=\"spiny-spin-1\">\n                <SocialIcon onClick={handleShare}\n                            style={{cursor: 'pointer'}}/>\n            </div>\n            <div className=\"spiny-spin-2\">\n                <FacebookShareButton\n                    url={window.location.href}\n                    title={`Check out ${props.repo_owner}'s ${props.repo_name} on wavBase!`}\n                    round={true}\n                    bgStyle={'fill'}\n                    hashtag={\"#wavBase\"}\n                    className=\"shareBtn col-md-1 col-sm-1 col-xs-1\">\n                    <SocialIcon url=\"https://facebook.com\"/>\n                </FacebookShareButton>\n            </div>\n            <div className=\"spiny-spin-3\">\n                <TwitterShareButton\n                    url={window.location.href}\n                    title={`Check out ${props.repo_owner}'s ${props.repo_name} on wavBase!`}\n                    iconFillColor={'cyan'}\n                    className=\"shareBtn col-md-1 col-sm-1 col-xs-1\">\n                    <SocialIcon url=\"https://twitter.com\"/>\n                </TwitterShareButton>\n            </div>\n\n        </div>\n    );\n}\nexport default ShareButtons","import React, {Component, useEffect, useState} from \"react\";\nimport {useParams, useRouteMatch, withRouter} from \"react-router-dom\";\n//import {findRepositories} from \"../../Model/FirebaseHandler\";\nimport loading from \"../../Images/loader.gif\";\nimport repo_thumbnail from '../../Images/default_repo_thumbnail.png';\nimport './RepositoryInfo.css'\nimport {DeleteRepo, GetRepoInfo, GetUserRef, HandleComment, HandleLike, UpdateRepoInfo} from \"../../BackendFunctions\";\nimport {ParseTags} from \"../GlobalComponent/ParseTags\";\nimport db from \"../../Model/base\";\nimport {useHistory} from \"react-router\";\nimport Popup from \"reactjs-popup\";\nimport CommentsDisplayComponent from \"./CommentsDisplayComponent\";\nimport {AddId, DeleteId, IncludeId} from \"../GlobalComponent/ParseId\";\nimport LikedListDisplayComponent from \"./LikedListDisplayComponent\";\nimport ShareButtons from \"../ShareRepoComponent/ShareButtons\";\n\nexport function RepositoryInfo(props) {\n\n    const history = useHistory();\n    const {repo_id} = useParams();\n    const visitor_id = db.auth().currentUser.uid;\n\n    //const [repo, setRepo] = useState(0);\n    const [repo, setRepo] = useState(0);\n    const [visitor, setVisitor] = useState(0);\n    const [comments, setComments] = useState(0);\n    const repo_owner = props.repo_owner;\n    //const [repo_owner, setRepoOwner] = useState(0);\n\n\n    const tags = ParseTags(repo.tags);\n\n    function redirectToSettings() {\n        history.push(`/repo/${repo.repo_id}/settings`);\n    }\n\n    useEffect(() => {\n        if (props.repo) {\n            setRepo(props.repo);\n            //console.log(props.repo.comments);\n            let tmp_comments = [];\n            if (props.repo.comments) {\n                for (let comment in props.repo.comments) {\n                    tmp_comments.push({...props.repo.comments[comment], key: comment});\n                }\n            }\n            setComments(tmp_comments);\n        }\n        /*if (props.repo_owner) {\n            setRepoOwner(props.repo_owner)\n        }*/\n        if (!visitor) {\n            if (visitor_id) {\n                GetUserRef(visitor_id).then(r => {\n                    setVisitor(r);\n                });\n            }\n        }\n        return () => {\n            console.log('Repo Info Updated');\n        }\n    }, [props.repo, props.repo_owner]);\n\n    const handleRepoInfoUpdate = (event) => {\n        event.preventDefault();\n        let new_tags = document.getElementById('new_tags').value;\n        let new_description = document.getElementById('new_description').value;\n        UpdateRepoInfo(repo_id, new_tags, new_description);\n        if (new_tags && new_tags !== '') {\n            let tmp_repo = repo;\n            tmp_repo = {...tmp_repo, tags: new_tags};\n            setRepo(tmp_repo);\n        }\n        if (new_description && new_description !== '') {\n            let tmp_repo = repo;\n            tmp_repo = {...tmp_repo, description: new_description};\n            setRepo(tmp_repo);\n        }\n    }\n\n    const handleDelete = (event) => {\n        event.preventDefault();\n        alert(`Repo ${repo.name} Deleted`);\n        DeleteRepo(repo_id);\n        history.push('/');\n    }\n\n    const handleLike = (event) => {\n        event.preventDefault();\n        let like_id_list = '';\n        if (repo.likes && IncludeId(repo.likes, visitor_id)) {\n            like_id_list = DeleteId(repo.likes, visitor_id);\n            console.log(`${visitor.username} cancelled like to repo ${repo_id}`);\n        } else {\n            like_id_list = AddId(repo.likes, visitor_id);\n            console.log(`${visitor.username} liked repo ${repo_id}`);\n        }\n        let tmp_repo = repo;\n        tmp_repo = {...tmp_repo, likes: like_id_list};\n        setRepo(tmp_repo);\n        HandleLike(repo_id, like_id_list);\n    }\n\n    /*const redirectToRepoHomePage = (event) => {\n        event.preventDefault();\n        history.push(`/repo/${repo_id}`);\n    }*/\n\n    /*const handleShare = (event) => {\n        event.preventDefault();\n        const el = document.createElement('textarea');\n        el.value = window.location.href;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        alert(window.location.href + ' copied to your clipboard');\n    } */\n\n\n    const handleComment = (e) => {\n        e.preventDefault();\n        const comment = document.getElementById('new_comment').value;\n        if (comment && comment !== '') {\n            HandleComment(repo_id, visitor.username, comment);\n            let tmp_comments = [...comments];\n            tmp_comments.push({...tmp_comments[tmp_comments.length], text: comment, username: visitor.username});\n            setComments(tmp_comments);\n        }\n        else {\n            alert('Cannot comment blank');\n        }\n        document.getElementById('new_comment').value = '';\n    }\n\n    return(\n        <div style={{marginLeft:'3rem', marginRight:'3rem'}}>\n            <div className=\"left_element\">\n                <img className=\"repo_thumbnail\"\n                     id=\"repo_thumbnail\"\n                     src={repo_thumbnail}\n                     alt=\"Repository Thumbnail\"\n                />\n            </div>\n            <div className=\"repo_title\">\n                    <div className=\"name_btn\">\n                        <h2>{ repo_owner.username }/{ repo.name }</h2>\n                    </div>\n                    <div className=\"share_btns\">\n                        <ShareButtons repo_name={repo.name} repo_owner={repo_owner.username}/>\n                    </div>\n                <div className=\"bpm_key_tags\">\n                    <h3>BPM:{ repo.bpm } | Key: { repo.key }</h3>\n                    <h3>Tags: </h3>\n                    {tags.map(tag =>\n                        <button>{tag}</button>\n                    )}\n                </div>\n                { /*<button onClick={handleShare}>Share</button>*/ }\n            </div>\n            <div className=\"repo_buttons_class\">\n            {(visitor_id === repo.user_id) ?\n                    <Popup trigger={<button style={{marginLeft:'0rem', marginRight:'0.5rem'}} className=\"update_button1\">Settings</button>} position={'right center'}>\n                        <div className=\"snapshot_popup1\">\n                        <form style={{width:'100%',display:'inline-block'}} method=\"post\" onSubmit={handleRepoInfoUpdate}>\n                            <label>\n                                <h3>Update Tags</h3>\n\n                                <input className=\"edit_input_1\" name=\"tags\" type=\"text\" id=\"new_tags\"\n                                       placeholder=\"Tags\" defaultValue={repo.tags}/>\n                            </label>\n                            <label>\n                                <h3>Update Description</h3>\n                                <textarea className=\"edit_input_2\" name=\"description\" type=\"text\" id=\"new_description\"\n                                          placeholder=\"Description\"/>\n                            </label>\n                            \n                            <input className=\"update_button\" type=\"submit\" value=\"Update\"/>\n                        </form>\n                        <br/>\n                        <div className=\"line\"/>\n                        <form method=\"post\" onSubmit={handleRepoInfoUpdate}>\n                            <label>\n                                <h3>Delete Repository</h3>\n                                <h5>*Delete the repository. This will delete all aspects of the repository</h5>\n                            </label>\n                            {<button className='update_button1' onClick={handleDelete}>Delete</button>}\n                        </form>\n                        </div>\n                    </Popup>\n                    : <></>}\n            <div className='repo_likes'>\n                {(repo.likes && IncludeId(repo.likes, visitor_id)) ?\n                    <button style={{marginLeft:'0rem'}} className=\"update_button1\" onClick={handleLike}>Liked</button> :\n                    <button style={{marginLeft:'0rem'}} className=\"update_button1\" onClick={handleLike}>Like</button>}\n                <LikedListDisplayComponent likes={repo.likes} />\n            </div>\n            </div>\n\n            <div className=\"repo_description\">\n                <p>Repo Description</p>\n                <p id={'repo_description'}>{ repo.description }</p>\n            </div>\n\n            \n\n            {/*TODO: Make comment component below the description*/}\n            <div className='add_repo_comments'>\n                <form style={{width:'100%',display:'inline-block'}} method=\"post\" onSubmit={handleComment}>\n                    <label>\n                        <h3>Leave a comment</h3>\n                        <textarea style={{maxWidth:'100%', padding:'10px', height:'5rem'}} className=\"edit_input_2\" name=\"description\" type=\"text\" id=\"new_comment\"\n                                  placeholder=\"Show some love, give some feedback, and keep things nice!\"/>\n                    </label>\n                    <br/>\n                    <input className=\"comment_button\" type=\"submit\" value=\"Comment\"/>\n                </form>\n            </div>\n\n            <div className='display_repo_comments'>\n                {(comments) ? <CommentsDisplayComponent comments={comments} /> : <h3>No Comment Yet</h3>}\n            </div>\n    \n        </div>\n    );\n}\n\n/*\nexport class RepositoryInfo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: '',\n            repo_name: '',\n            bpm: '',\n            key: '',\n            tags: '',\n            description: '',\n            thumbnail_path: '',\n            datetime: '',\n        }\n\n        this.userRef = db.database().ref(\"users/\" + this.props.repo.user_id);\n        this.storageRef = db.storage().ref();\n    }\n\n    componentDidMount() {\n        this.userRef\n            .once('value', data => {\n                let username = data.val().username;\n                this.setState({\n                    username: username,\n                    repo_name: this.props.repo.name,\n                    bpm: this.props.repo.bpm,\n                    key: this.props.repo.key,\n                    tags: this.props.repo.tags,\n                    description: this.props.repo.description,\n                    thumbnail_path: this.props.repo.thumbnail,\n                    datetime: this.props.repo.upload_date,\n                });\n            }).then(() => {\n\n                this.storageRef.child(this.state.thumbnail_path).getDownloadURL().then(function (url) {\n                    console.log(url);\n                    let pfp = document.getElementById(\"repo_thumbnail\");\n                    pfp.src = url;\n            }).catch((error) => {\n                console.log(error);\n            });\n        });\n    }\n\n    render() {\n\n        return(\n            <div>\n                <div className=\"left_element\">\n                    <img className=\"repo_thumbnail\"\n                         id=\"repo_thumbnail\"\n                         src={loading}\n                         alt=\"Repository Thumbnail\"\n                    />\n                </div>\n                <div className=\"repo_title\">\n                    <h2>{ this.state.username }/{ this.state.repo_name }</h2>\n                    <h3>BPM:{ this.state.bpm } | Key: { this.state.key }</h3>\n                </div>\n\n                <div className=\"repo_description\">\n                    <p>Repo Description</p>\n                    <p>{ this.state.description }</p>\n                </div>\n            </div>\n        );\n    }\n}*/\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport UploadSnapshot from \"../RepositoryPageComponents/UploadSnapshot\";\nimport './SnapshotModal.css'\n\n\nconst SnapshotModal = ({ isShowing, hide, repo_id}) => isShowing ? ReactDOM.createPortal(\n\n    <React.Fragment>\n        <div className=\"modal-overlay\"/>\n        <div className=\"modal-wrapper\" aria-modal aria-hidden tabIndex={-1} role=\"dialog\">\n            <div className=\"modal\">\n                <div className=\"modal-header\">\n                    <button type=\"button\" className=\"modal-close-button\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={hide}>\n                        <span aria-hidden=\"true\">close</span>\n                    </button>\n                </div>\n                <UploadSnapshot repo_id={repo_id} />\n            </div>\n        </div>\n    </React.Fragment>, document.body\n) : null;\n\nexport default SnapshotModal;","import { useState } from 'react';\n\nconst UseSnapshotModal = () => {\n    const [isShowing, setIsShowing] = useState(false);\n\n    function toggle() {\n        setIsShowing(!isShowing);\n    }\n\n    return {\n        isShowing,\n        toggle,\n    }\n};\n\nexport default UseSnapshotModal;","import React, {Component, useEffect, useState} from \"react\";\n\nimport db from \"../../Model/base\";\nimport {Route, useHistory, useParams, useRouteMatch, withRouter} from \"react-router-dom\";\n\nimport folder_icon from \"../../Images/folder.png\";\nimport \"./SnapshotList.css\"\nimport {GetSnapshotListByRepoId} from \"../../BackendFunctions\";\nimport SnapshotModal from \"../RepositoryModals/SnapshotModal\";\nimport UseSnapshotModal from \"../RepositoryModals/UseSnapshotModal\";\nimport {SnapshotListManager} from \"./SnapshotListManager\";\n\nexport function SnapshotList(props) {\n\n    const history = useHistory();\n    const {repo_id} = useParams();\n    const {isShowing, toggle} = UseSnapshotModal();\n    const [snapshot_list, setSnapshotList] = useState(0);\n\n    useEffect(() => {\n        console.log('Listening to snapshot list of repo_id:', repo_id);\n        if (!snapshot_list) {\n            GetSnapshotListByRepoId(repo_id).then(snapshot_list_snapshot => {\n                let tmp_list = [];\n                for (let snapshot in snapshot_list_snapshot) {\n                    tmp_list.push({...snapshot_list_snapshot[snapshot], snap_id: snapshot});\n                }\n                setSnapshotList(tmp_list);\n            })\n        }\n        return () => {\n            console.log('Stop listening to snapshot list of repo_id:', repo_id);\n        }\n    }, [snapshot_list, localStorage.getItem(`${repo_id} snapshots`)])\n    // TODO: Map snapshot elements to SnapshotObject\n    // Element displays folder icon + desc + datetime\n\n    function redirectToSnapshots(curr_snapshot) { // Passes the snapshot object over to be viewed.\n        history.push({\n            pathname: `/repo/${repo_id}/snapshot/${curr_snapshot.snap_id}`,\n        });\n    }\n\n    let snapshotElement = [];\n    if (snapshot_list) {\n        snapshotElement = snapshot_list.map((snapshot, key) =>\n            <tr key={snapshot.snap_id}>\n                <td style={{width: '500px', textAlign: 'left'}}>\n                    <button className=\"snapshot_button\" name=\"snapshot_links\"\n                            onClick={() => redirectToSnapshots(snapshot)}>\n                        <img className=\"snaps_ico_1\" src={folder_icon} alt=\"snapshot_icon\"/>\n                        {snapshot.description}\n                        {/*<p>Upload Date: {snapshot.upload_date}</p>*/}\n                    </button>\n                </td>\n            </tr>\n        );\n    }\n\n\n    return (\n\n        <div style={{marginLeft: '3rem', marginRight: '3rem'}}>\n            <div className=\"info_upload_row\">\n                <h3>Snapshots</h3>\n                <button style={{width: 'inherit'}} className=\"update_button\" onClick={toggle}>Take a Snapshot</button>\n            </div>\n\n            <SnapshotListManager.Provider value={{setSnapshotList}}>\n                <div><SnapshotModal isShowing={isShowing} hide={toggle} repo_id={repo_id}/>\n\n\n                    <table className=\"snapshot_table\">\n                        <tbody className=\"snapshot_body\">\n                        {snapshotElement}\n                        </tbody>\n                    </table>\n                </div>\n            </SnapshotListManager.Provider>\n        </div>\n    );\n\n}\n\n\n/*\nclass SnapshotList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            snapshots: []\n        }\n\n        this.fireBaseRef = db.database().ref('snapshots');\n    }\n\n    componentDidMount() {\n        try {\n            console.log(this.props.repo_id);\n            db.database().ref('snapshots')\n                .orderByChild('repo_id')\n                .equalTo(this.props.repo_id)\n                .on('value', (dataSnapshot) => {\n                    let snapshots = [];\n                    console.log('here')\n                    dataSnapshot.forEach(snapData => {\n                        let snapshot = snapData.val();\n                        snapshot['snap_id'] = snapData.key;\n                        snapshots.push(snapshot);\n                    });\n                    this.setState({snapshots: snapshots});\n                }).then(() => {\n                console.log(this.state.snapshots)\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    redirectToSnapshots(curr_snapshot) { // Passes the snapshot object over to be viewed.\n        this.props.history.push({\n            pathname: \"/snapshot\",\n            state: {  // Pass as props for Repository page.\n                snapshot: curr_snapshot,\n                repo_name: this.props.repo_name,\n                username: \"User\"\n            }\n        });\n    }\n\n    render() {\n\n        // TODO: Map snapshot elements to SnapshotObject\n        // Element displays folder icon + desc + datetime\n\n        const snapshotElement = this.state.snapshots.map(snapshot =>\n            <tr key={ snapshot.snap_id }>\n                <td style={ {width: '500px', textAlign: 'left'} }>\n                    <button className=\"snapshot_button\" name=\"snapshot_links\"\n                            onClick={ () => this.redirectToSnapshots(snapshot) }>\n                       <img className=\"snaps_ico_1\" src={ folder_icon } alt=\"snapshot_icon\"/>\n                        { snapshot.description }\n                        { snapshot.datetime }\n                    </button>\n                </td>\n            </tr>\n        );\n\n        return(\n            <div>\n                <table className=\"snapshot_table\">\n                    <tbody className=\"snapshot_body\">\n                        {snapshotElement}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(SnapshotList);*/\n","import React, {Component, useEffect, useState} from \"react\";\nimport \"../../App.css\";\nimport * as K from '../../Constants';\nimport * as FirebaseHandler from  \"../../Model/FirebaseHandler.js\";\nimport {PlayButton} from \"../GlobalComponent/PlayButton\";\nimport {RepositoryInfo} from \"../RepositoryPageComponents/RepositoryInfo\";\nimport NavBar from '../NavBarComponents/NavBar.js';\nimport {SnapshotList} from \"../RepositoryPageComponents/SnapshotList\";\nimport UploadSnapshot from \"../RepositoryPageComponents/UploadSnapshot\";\nimport './Repository.css';\nimport SnapshotModal from \"../RepositoryModals/SnapshotModal\";\nimport UseSnapshotModal from \"../RepositoryModals/UseSnapshotModal\";\n\nimport {repo_tab} from \"../../Constants\";\nimport {useHistory, useLocation, useParams} from 'react-router';\nimport {GetRepoInfo, GetUserRef} from \"../../BackendFunctions\";\nimport db from \"../../Model/base\";\n\n/**\n *\n * @param history -> pass in repo object as prop.\n * @returns {JSX.Element}\n * @constructor\n */\nfunction Repository(props) {\n    const history = useHistory();\n    const {isShowing, toggle} = UseSnapshotModal();\n    const {repo_id} = useParams();\n\n    const [repo, setRepo] = useState(0);\n    const [repo_owner, setRepoOwner] = useState(0);\n\n    useEffect(() => {\n        console.log('Listening to repo:', repo_id);\n        if (!repo) {\n            GetRepoInfo(repo_id).then(repo_snapshot => {\n                repo_snapshot = {...repo_snapshot, repo_id: repo_id};\n                setRepo(repo_snapshot);\n                GetUserRef(repo_snapshot.user_id).then(owner_snapshot => {\n                    setRepoOwner(owner_snapshot);\n                });\n            });\n        }\n        return () => {\n            console.log('Stop listening to repo:', repo_id);\n        }\n    }, [repo]);\n\n    function redirectToSettings() {\n        history.push(`/repo/${repo_id}/settings`);\n    }\n\n    function handleLike() {\n\n    }\n\n    function redirectToSnapshot() {\n\n    }\n\n\n    return (\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <RepositoryInfo repo={repo} repo_owner={repo_owner}/>\n            <div className=\"line\"/>\n            {/*<div className=\"info_upload_row\">\n                <h3>Snapshots</h3>\n                <button className=\"upload_pop_up\" onClick={toggle}>Take a Snapshot</button>\n                {(repo && repo.user_id === uid) ? <button onClick={redirectToSettings}>Settings</button> : <button onClick={handleLike}>Like</button>}\n            </div>\n\n            <SnapshotModal isShowing={isShowing} hide={toggle} repo_id={repo_id}/>*/}\n\n            {/*<SnapshotList\n                repo_id={ repo_id }\n                repo_name={repo.name}\n            />*/}\n        </div>\n    );\n}\nexport default Repository;\n/*\nconst Repository = ({history}) => {\n    const location = useLocation();\n    const {isShowing, toggle} = UseSnapshotModal();\n\n    console.log(location.state.repo);\n\n\n    const redirectHome = () => {\n        history.push(\"/\");\n    }\n\n    return (\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <RepositoryInfo repo={ location.state.repo }/>\n            <div className=\"line\"/>\n            <div className=\"info_upload_row\">\n                <h3>Snapshots</h3>\n                <button className=\"upload_pop_up\" onClick={toggle}>Take a Snapshot</button>\n            </div>\n            \n            <SnapshotModal isShowing={isShowing} hide={toggle} repo_id={location.state.repo.repo_id}/>\n\n\n            <SnapshotList\n                repo_id={ location.state.repo.repo_id }\n                repo_name={location.state.repo.name}\n            />\n\n            {/!*<button className=\"redirect_home\" onClick={ redirectHome }>Go Back to Home!</button>*!/}\n        </div>\n    );\n};\n\nexport default Repository;\n*/\n","import React from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport db from \"../../Model/base\";\nimport \"./PersonalHome.css\";\nimport logo from \"../../Images/wavBase_logo.png\";\nimport './PersonalHome.css';\nimport '../../App.css'\nimport '../NavBarComponents/NavBar.css'\nimport NavBar from '../NavBarComponents/NavBar.js';\n//import Home from \"./Home\";\n\nimport RepositoryList from \"../HomePageComponents/RepositoryList\";\n\n\n\n//import Repository from \"./Repository\";\nimport PrivateRoute from \"../auth/PrivateRoute\";\nimport NewRepo from \"./NewRepo\";\nimport Snapshot from \"./Snapshot\";\nimport Profile from \"./Profile\";\nimport ResultsInterface from \"./ResultsInterface\";\nimport UserSearchResult from \"../SearchComponents/UserSearchResult\";\nimport RepoSearchResult from \"../SearchComponents/RepoSearchResult\";\nimport TagsSearchResult from \"../SearchComponents/TagsSearchResult\";\nimport {Route} from \"react-router\";\nimport Repository from \"./Repository\";\nimport {SnapshotList} from \"../RepositoryPageComponents/SnapshotList\";\n\n// TODO: render searchbar, likes, (add more)\nconst PersonalHome = ({history}, props) => {\n\n    /*\n    let user = db.auth().currentUser;\n    //let name, email, photoUrl, uid, emailVerified;\n    let name = \"User\";\n    if (user != null) {\n        //name = user.email;\n        let username;\n        let uid = db.auth().currentUser.uid;\n        let firebaseRef = db.database().ref('users/' + uid);\n        firebaseRef.on('value', (snapshot) =>{\n            username = snapshot.val().username;\n            name = username;\n        })\n    }\n*/\n\n    // let uid = db.auth().currentUser.uid;\n    // let userRef = db.database().ref('users/' + uid);\n    // let username, profile_picture_path, user_email;\n    // userRef.on('value', (snapshot) =>{\n    //     username = snapshot.val().username;\n    //     profile_picture_path = snapshot.val().profile_picture;\n    //     user_email = snapshot.val().email;\n    // })\n    //\n    // let storage = db.storage();\n    // let storageRef = storage.ref();\n    // storageRef.child(profile_picture_path).getDownloadURL().then(function (url) {\n    //     let img2 = document.getElementById('profile_picture2');\n    //     img2.src = url;\n    // })\n\n    return (\n        <div>\n            <NavBar />\n            {/*<PrivateRoute exact path=\"/\" component={RepositoryList}/>\n            <PrivateRoute exact path=\"/newrepo\" component={NewRepo}/>\n            <PrivateRoute exact path=\"/snapshot\" component={Snapshot}/>\n            <PrivateRoute exact path=\"/profile\" component={Profile}/>\n            <PrivateRoute path='/search_result' component={ResultsInterface}/>\n            <PrivateRoute exact path='/search_result' component={UserSearchResult}/>\n            <PrivateRoute exact path='/search_result/repositories'\n                          component={RepoSearchResult}/>\n            <PrivateRoute exact path='/search_result/tags'\n                          component={TagsSearchResult}/>\n            <PrivateRoute path={'/user/:user_id'} component={RepositoryList}/>\n            <Route path={\"/repo/:repo_id\"} component={Repository}/>\n            <Route exact path={'/repo/:repo_id'} component={SnapshotList} />\n            <PrivateRoute exact path={'/repo/:repo_id/settings'} component={RepositorySettings}/>\n            <Route exact path={\"/repo/:repo_id/snapshot/:snap_id\"} component={Snapshot}/>*/}\n        </div>\n\n    );\n}\n\nexport default PersonalHome;","/*\n    SignIn.js\n    TODO: Sign in & reset password with username\n    TODO: [RISK] unstable reset password & login functionality\n */\nimport React, {useContent, useContext} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {AuthContext} from \"../auth/Auth\";\n\nimport db from \"../../Model/base\";\nimport \"../../App.css\";\nimport * as K from '../../Constants';\nimport logo from \"../../Images/wavBase_logo.png\";\nimport * as FirebaseHandler from \"../../Model/FirebaseHandler.js\";\nimport './Login.css';\nimport {SignIn} from \"../../BackendFunctions\";\n\nconst Login = ({history}) => {\n\n    const handleLogin = (event) => {\n        event.preventDefault();\n        const {email_or_username, password} = event.target.elements;\n\n        /*\n            TODO: Delegate to db handler?\n            Maybe this insert query should be delegated to FirebaseHandler.js\n            inorder to better conform to MVC design pattern.\n         */\n        try {\n            if (isEmail(email_or_username.value)) {\n                // Login with email and password.\n                let email = email_or_username.value;\n                db\n                    .auth()\n                    .signInWithEmailAndPassword(email, password.value).then(user => {\n                    console.log(user.user.uid);\n                });\n            } else {\n                // TODO: Login with username and password.\n                let username = email_or_username.value;\n                let firebaseRef = db.database().ref(\"users\");\n                firebaseRef\n                    .orderByChild(\"username\")\n                    .equalTo(username)\n                    .on(\"value\", function (snapshot) {\n                        let email = snapshot.child(\"email\").val()\n                        db.auth().signInWithEmailAndPassword(email, password.value);\n                    });\n                history.push(\"/\");\n                firebaseRef.off();\n            }\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            if (errorCode === 'auth/invalid-email' || errorCode === 'auth/wrong-password') {\n                alert('The email or password you inputted was incorrect. Please try again.');\n            } else {\n                console.log(errorMessage);\n                alert(K.unknown_err);\n            }\n        }\n    }\n\n    const {currentUser} = useContext(AuthContext);\n    if (currentUser) {\n        return <Redirect to=\"/\"/>;\n    }\n\n    /*\n        Check's if user input is an email address.\n        @input: s -> String\n        @output: bool\n     */\n    function isEmail(s) {\n        const exp = new RegExp(\"^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$\");\n        return exp.test(s);\n    }\n\n    const redirectRegister = () => {\n        history.push(\"/register\");\n    }\n\n    const redirectReset = () => {\n        history.push(\"/reset_password\");\n    }\n\n    return (\n        <div>\n            <div className=\"login_left\">\n                <img className=\"login_logo\" src={logo} alt=\"wavBase Logo\" width=\"209\" height=\"187\"/>\n                <hr className=\"separator\"/>\n                <p className=\"login_quote\">Collaborate and share with music creators all over the world!</p>\n            </div>\n\n            <div className=\"login_right\">\n                <h1 className=\"signIn_header\">Sign in to wavBase</h1>\n                <form onSubmit={handleLogin}>\n                    <label>\n                        <input\n                            className=\"signIn_form\"\n                            id=\"identity\"\n                            name=\"email_or_username\"\n                            type=\"text\"\n                            required=\"required\"\n                            placeholder=\" Username / Email\"/>\n                    </label>\n                    <br/>\n                    <label>\n                        <input className=\"signIn_form\" name=\"password\" type=\"password\" required=\"required\"\n                               placeholder=\" Password\"/>\n                    </label>\n                    <br/>\n                    <button className=\"button\" type=\"submit\">Sign in</button>\n                    <br/>\n                    <button className=\"button\" id=\"resetPW\" onClick={redirectReset}>Forgot Password / Username?</button>\n                    <hr className=\"separator\"/>\n                    <button className=\"signUp_button\" onClick={redirectRegister}>Sign Up</button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;","/*\n    Register.js\n */\nimport React from 'react';\nimport db from \"../../Model/base\";\nimport \"../../App.css\";\nimport * as K from \"../../Constants\";\nimport logo from \"../../Images/wavBase_logo.png\";\nimport './Register.css'\nimport * as FirebaseHandler from  \"../../Model/FirebaseHandler.js\";\nimport sine_wave_1 from \"../../Images/sine_wave_1.png\";\nimport {CreateUser} from \"../../BackendFunctions\";\n\n\nconst Register = ({ history }) => {\n\n    const handleRegister = (event) => {\n        event.preventDefault();\n\n        // Returns HTML elements from register form\n        const {\n            username,\n            email,\n            password,\n            verify,  // Verification for password.\n        } = event.target.elements;\n\n        console.log(\"Adding user\");\n        console.log(password.value + \"|\" + verify.value);\n\n        // Verifies if user correctly re-entered password when registering\n        if (password.value === verify.value) {\n            console.log(\"Password verified.\");\n\n            try {\n                // Creates user via FirebaseHandler using returned element values\n                CreateUser(username.value, password.value, email.value);\n                history.push(\"/\");\n            } catch (error) {\n                const errorCode = error.code;\n                const errorMessage = error.message;\n                if (errorCode === 'auth/weak-password') {\n                    alert('The password is too weak! Please Try a different one.');\n                } else if (errorCode === 'auth/email-already-in-use') {\n                    alert('An account already exists with this email!')\n                } else if (errorCode === 'auth/invalid-email') {\n                    alert('Please enter a valid email address!');\n                } else {\n                    console.log(errorMessage);\n                    alert(K.unknown_err);\n                }\n            }\n        } else {\n            alert(\"Please make sure your password matches!\");\n        }\n    }\n\n    const redirectLogIn = () => {\n        //history.push(\"/\");\n        history.push(\"/login\");\n    }\n\n    const signInPrompt = () => {\n        alert('Please register or sign in your account :)');\n    }\n\n    return(\n        <div>\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n            <div className=\"nav_bar\">\n                <img src={logo} className=\"nav_bar_logo\" alt=\"wavBase Logo\" />\n                <button className=\"signIn_btn\" type=\"submit\" onClick={redirectLogIn}>Sign In</button>\n                <form onSubmit={signInPrompt} className=\"search_bar\">\n                    <input className=\"search_input\" type=\"text\" placeholder=\" Search\"\n                           name=\"search\"/>\n                    <button type=\"submit\" className=\"search_btn\"><i className=\"fa fa-search\"></i></button>\n                </form>\n            </div>\n\n            <div className=\"register_left\">\n                <form className=\"register_form\" onSubmit={handleRegister}>\n                    <label>\n                        Username <br/>\n                        <input className=\"register_input\" name=\"username\" type=\"text\" required=\"required\" placeholder=\"Username\"/>\n                    </label>\n                    <br/>\n                    <label>\n                        Email <br/>\n                        <input className=\"register_input\" name=\"email\" type=\"email\" required=\"required\" placeholder=\"Email\"/>\n                    </label>\n                    < br/>\n                    <label>\n                        Password <br/>\n                        <input className=\"register_input\" name=\"password\" type=\"password\" required=\"required\" placeholder=\"Password\"/>\n                    </label>\n                    <br/>\n                    <label>\n                        Re-enter Password <br/>\n                        <input className=\"register_input\" name=\"verify\" type=\"password\" required=\"required\" placeholder=\"Re-enter Password\"/>\n                    </label>\n                    <br/>\n                    <button className=\"register_button\" type=\"submit\">Sign up for wavBase</button>\n                </form>\n            </div>\n\n            <div className=\"upperRight_text\">\n                <h1 id=\"bold\">Built for <br/> music creators</h1>\n                <p1>\n                    wavBase is a development platform designed for <span className=\"bold_text\">music producers</span>. From open source to collaboration, you can <span className=\"bold_text\">collaborate</span> with others, <span className=\"bold_text\">manage projects</span>, and <span className='bold_text'>share</span> your work to millions of music listeners.\n                </p1>\n            </div>\n            <img src={sine_wave_1} className={\"bottom_wave\"} style={{width:\"100%\", height:\"233\", bottom:\"-3rem\", zIndex:\"-99\", position:\"absolute\"}}/>\n        </div>\n\n    );\n};\n\nexport default Register;","/*\n    SignIn.js\n    TODO: Sign in & reset password with username\n    TODO: [RISK] unstable reset password & login functionality\n */\nimport React, {useContent, useContext} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {AuthContext} from \"../auth/Auth\";\n\nimport db from \"../../Model/base\";\nimport \"../../App.css\";\nimport * as K from '../../Constants';\nimport logo from \"../../Images/wavBase_logo.png\";\nimport * as FirebaseHandler from \"../../Model/FirebaseHandler.js\";\nimport './Login.css';\nimport {SignIn} from \"../../BackendFunctions\";\n\nconst ResetPassword = ({history}) => {\n\n    const {currentUser} = useContext(AuthContext);\n    if (currentUser) {\n        return <Redirect to=\"/\"/>;\n    }\n\n    /*\n        Check's if user input is an email address.\n        @input: s -> String\n        @output: bool\n     */\n    function isEmail(s) {\n        const exp = new RegExp(\"^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$\");\n        return exp.test(s);\n    }\n\n    const redirectLogin = () => {\n        history.push(\"/login\");\n    }\n\n    const resetPWFunction = () => {\n        const idField = document.getElementById('identity');\n        \n        if (isEmail(idField.value)) {\n            console.log(\"Email parsed: \" + idField.value);\n            db.auth().sendPasswordResetEmail(idField.value)\n                .then(() => {\n                    alert('Password Reset Email Sent Successfully!');\n                    console.log('Password Reset Email Sent Successfully!');\n                })\n                .catch(error => {\n                    alert('Invalid Email');\n                    console.error(error);\n                })\n        }\n\n        history.push(\"/login\");\n    }\n\n    return (\n        <div>\n            <div className=\"login_left\">\n                <img className=\"login_logo\" src={logo} alt=\"wavBase Logo\" width=\"209\" height=\"187\"/>\n                <hr className=\"separator\"/>\n                <p className=\"login_quote\">Collaborate and share with music creators all over the world!</p>\n            </div>\n\n            <div className=\"login_right\">\n                <h1 className=\"signIn_header\">Account Recovery</h1>\n                <form onSubmit={resetPWFunction}>\n                    <label>\n                        <input\n                            className=\"signIn_form\"\n                            id=\"identity\"\n                            name=\"email_or_username\"\n                            type=\"text\"\n                            required=\"required\"\n                            placeholder=\" Email\"/>\n                    </label>\n                    <br/>\n                    <button className=\"button\" type=\"submit\">Confirm</button>\n                    <br/>\n                    <button className=\"button\" onClick={redirectLogin}>Go Back</button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default ResetPassword;","import React from 'react';\nimport {BrowserRouter as Router, Route, Switch, Link} from \"react-router-dom\";\n\nimport Home from \"./View/routes/Home\";\nimport PersonalHome from \"./View/routes/PersonalHome\";\nimport Login from \"./View/routes/Login\";\nimport Register from \"./View/routes/Register\";\nimport NewRepo from \"./View/routes/NewRepo\";\nimport Repository from \"./View/routes/Repository\";\nimport Profile from \"./View/routes/Profile\";\nimport Snapshot from \"./View/routes/Snapshot\";\nimport ResultsInterface from \"./View/routes/ResultsInterface\";\n\nimport PrivateRoute from \"./View/auth/PrivateRoute\";\nimport {AuthProvider} from \"./View/auth/Auth\";\n\nimport './App.css';\n\nimport SearchResults from \"./View/routes/SearchResults\";\nimport NavBar from \"./View/NavBarComponents/NavBar\";\nimport RepositoryList from \"./View/HomePageComponents/RepositoryList\";\nimport sine_wave_1 from \"./Images/sine_wave_1.png\";\nimport UserSearchResult from \"./View/SearchComponents/UserSearchResult\";\nimport RepoSearchResult from \"./View/SearchComponents/RepoSearchResult\";\nimport TagsSearchResult from \"./View/SearchComponents/TagsSearchResult\";\nimport {SnapshotList} from \"./View/RepositoryPageComponents/SnapshotList\";\nimport ResetPassword from './View/routes/ResetPassword';\n\n//import RepositoryListContainer from \"./View/routes/RepositoryListContainer\";\n\nfunction App() {\n    return (\n\n        <AuthProvider>\n            <Router>\n                <div>\n                    <Switch>\n                        <Route exact path=\"/login\" component={Login}/>\n                        <Route exact path=\"/register\" component={Register}/>\n                        <Route exact path=\"/reset_password\" component={ResetPassword}/>\n                        <PrivateRoute path=\"/\" component={PersonalHome}/>\n                    </Switch>\n                    <PrivateRoute exact path=\"/\" component={RepositoryList}/>\n                    <PrivateRoute exact path=\"/newrepo\" component={NewRepo}/>\n                    <PrivateRoute exact path=\"/profile\" component={Profile}/>\n                    <PrivateRoute path='/search_result' component={ResultsInterface}/>\n                    <PrivateRoute exact path='/search_result' component={UserSearchResult}/>\n                    <PrivateRoute exact path='/search_result/repositories'\n                                  component={RepoSearchResult}/>\n                    <PrivateRoute exact path='/search_result/tags'\n                                  component={TagsSearchResult}/>\n                    <PrivateRoute path={'/user/:user_id'} component={RepositoryList}/>\n                    <PrivateRoute path={\"/repo/:repo_id\"} component={Repository}/>\n                    <PrivateRoute exact path={'/repo/:repo_id'} component={SnapshotList} />\n                    <PrivateRoute exact path={\"/repo/:repo_id/snapshot/:snap_id\"} component={Snapshot}/>\n                    {/*<img src={sine_wave_1} style={{*/}\n                    {/*    width: \"100%\",*/}\n                    {/*    float: 'bottom',*/}\n                    {/*    zIndex: \"-99\",*/}\n                    {/*    position: \"relative\",*/}\n                    {/*    marginTop: '1rem'*/}\n                    {/*}}/>*/}\n                </div>\n            </Router>\n        </AuthProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}